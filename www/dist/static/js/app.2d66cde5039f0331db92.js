webpackJsonp([1],{"3Shs":function(t,e){},"6hhj":function(t,e){},"79Ws":function(t,e){},"8/Kl":function(t,e){},"8fRE":function(t,e){},AC96:function(t,e){},Fb2d:function(t,e){},HZwz:function(t,e){},Je7l:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),o={name:"App",computed:{user:function(){return this.$store.state.userModule.user}},created:function(){var t=this;this.$store.dispatch("endDemo"),window.addEventListener("beforeunload",function(){"demo@demo.com"==t.$store.state.userModule.user.email&&(t.$store.dispatch("endDemo"),t.$store.dispatch("signOut"))})},methods:{login:function(){this.$router.push({name:"User"})},signOut:function(){this.$store.dispatch("signOut")}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("nav",{staticClass:"navbar navbar-dark bg-primary top-header format"},[s("a",{staticClass:"navbar-left",attrs:{href:"#"}},[s("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"Home"}}},[s("a",[t._v("Home")])]),t._v(" "),s("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"myTrips"}}},[s("a",[t._v("My Trips")])])],1),t._v(" "),s("img",{attrs:{src:i("lvYX"),width:"280px"}}),t._v(" "),t.user._id?t._e():s("a",{staticClass:"navbar-brand",on:{click:t.login}},[s("button",{staticClass:"btn btn-outline-light",attrs:{type:"button"}},[t._v("Sign In/Login")])]),t._v(" "),t.user._id?s("div",{staticClass:"d-flex flex-column"},[s("a",{staticClass:"navbar-brand"},[t._v("User: "+t._s(t.user.displayName))]),t._v(" "),s("a",{staticClass:"navbar-brand btn btn-outline-light",on:{click:t.signOut}},[t._v("Sign out")])]):t._e()]),t._v(" "),s("router-view")],1)},staticRenderFns:[]};var a=i("VU/8")(o,n,!1,function(t){i("bfNI")},null,null).exports,r=i("/ocq"),c={name:"Destination",data:function(){return{destination:{},trip:{}}},mounted:function(){this.$store.state.userModule.user._id||this.$router.push({name:"User"})},computed:{activeDest:function(){return this.$store.state.destModule.activeDest},trips:function(){return this.$store.state.userModule.userTrips},todos:function(){return this.$store.state.userModule.userTodos}},methods:{addDestination:function(t){this.$store.dispatch("selectActiveTrip",this.trip),this.$store.dispatch("addDestination",t),alert("Destination added to your trip")}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"destination"},[i("div",[i("h2",[t._v(t._s(t.activeDest.title))]),t._v(" "),i("img",{attrs:{src:t.activeDest.photo,alt:""}}),t._v(" "),t._l(t.todos,function(e){return i("div",{key:e._id},[i("img",{attrs:{src:e.photo,alt:""}}),t._v(" "),i("p",[t._v(t._s(e.title))])])})],2),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.trip,expression:"trip"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.trip=e.target.multiple?i:i[0]}}},[i("option",{attrs:{disabled:"",value:""}},[t._v("Add Destination to Trip: ")]),t._v(" "),t._l(t.trips,function(e){return i("option",{key:e._id,domProps:{value:e}},[t._v(t._s(e.title))])})],2),t._v(" "),i("button",{on:{click:function(e){t.addDestination(t.activeDest)}}},[t._v("Add destination to trip: ")])])},staticRenderFns:[]};var l=i("VU/8")(c,d,!1,function(t){i("Fb2d")},"data-v-405e3b66",null).exports,u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"my-trip"},[i("div",{staticClass:"mb-2 mt-2"},[i("h4",[t._v("First Trip?")]),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success btn-sm",attrs:{type:"submit"},on:{click:t.newTrip}},[t._v("Click Here")]),t._v(" To Create A New Trip")]),t._v(" "),t.toggleForm?i("div",{staticClass:"create-trip"},[i("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.createTrip(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.title,expression:"trip.title"}],staticClass:"input",attrs:{type:"text",name:"title",placeholder:" Title",id:"email"},domProps:{value:t.trip.title},on:{input:function(e){e.target.composing||t.$set(t.trip,"title",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.description,expression:"trip.description"}],staticClass:"input mt-2",attrs:{type:"text",name:"description",placeholder:" Description",id:"name"},domProps:{value:t.trip.description},on:{input:function(e){e.target.composing||t.$set(t.trip,"description",e.target.value)}}}),t._v(" "),i("div",{staticClass:"mb-2"}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success mb-2",attrs:{type:"submit"}},[t._v("Create")])])]):t._e()])},staticRenderFns:[]};var p=i("VU/8")({name:"myTrip",data:function(){return{trip:{title:"",description:""},toggleForm:!1}},mounted:function(){},computed:{},methods:{createTrip:function(){this.$store.dispatch("createTrip",this.trip),this.toggleForm=!this.toggleForm},newTrip:function(){this.toggleForm=!this.toggleForm}}},u,!1,function(t){i("8/Kl")},"data-v-0ab1e979",null).exports,m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"create-trip"},[i("button",{staticClass:"btn btn-primary btn-success",attrs:{"data-toggle":"modal","data-target":"#createTripModal"},on:{click:t.checkLogin}},[t._v("Start New Trip")]),t._v(" "),i("div",{staticClass:"modal fade",attrs:{id:"createTripModal",tabindex:"-1",role:"dialog","aria-labelledby":"createTripModalTitle","aria-hidden":"true"}},[i("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),i("div",{staticClass:"modal-body"},[i("form",{staticClass:"form bgform",on:{submit:function(e){return e.preventDefault(),t.createTrip(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.title,expression:"trip.title"}],staticClass:"input",attrs:{type:"text",name:"title",placeholder:" Title",id:"email"},domProps:{value:t.trip.title},on:{input:function(e){e.target.composing||t.$set(t.trip,"title",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.description,expression:"trip.description"}],staticClass:"input mt-2",attrs:{type:"text",name:"description",placeholder:" Description",id:"name"},domProps:{value:t.trip.description},on:{input:function(e){e.target.composing||t.$set(t.trip,"description",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),t.trip.title.length>0?i("button",{staticClass:"btn btn-primary btn-primary",attrs:{"data-dismiss":"modal"},on:{click:function(e){t.createTrip()}}},[t._v("Submit")]):t._e()])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"createTripModalTitle"}},[this._v("Create a Trip!")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]};var v=i("VU/8")({name:"CreateTrip",data:function(){return{trip:{title:"",description:""},toggleForm:!1}},mounted:function(){},computed:{},methods:{createTrip:function(){this.$store.dispatch("createTrip",this.trip),this.toggleForm=!this.toggleForm},checkLogin:function(){this.$store.state.userModule.user._id||this.$router.push({name:"User"})}}},m,!1,function(t){i("zDTw")},"data-v-2e31eba1",null).exports,h={name:"Home",data:function(){return{destination:{title:""},trip:{},msnry:null}},components:{destination:l,mytrip:p,createTrip:v},watch:{apiResults:function(){var t=this;this.$nextTick(function(){setTimeout(function(){t.masonry(!0)},500)})}},computed:{userResults:function(){return this.$store.state.destModule.userResults},apiResults:function(){return this.$store.state.destModule.apiResults},trips:function(){var t=this.$store.state.tripModule.userTrips;return t},currentDest:function(){return this.$store.state.destModule.activeDest}},mounted:function(){this.$store.state.userModule.user._id||tt.push({name:"User"}),this.$store.dispatch("getUsersTrips"),this.masonry(!1)},methods:{getResults:function(){this.$store.dispatch("findDestination",this.destination.title),this.title=""},addDestination:function(t){this.$store.dispatch("selectActiveTrip",this.trip),this.$store.dispatch("addDestination",t)},selectActiveDest:function(t){this.$store.dispatch("selectActiveDest",t),this.$router.push("Destination")},selectDest:function(t){this.$store.dispatch("selectActiveDest",t)},masonry:function(t){if(t)this.msnry.reloadItems(),this.msnry.layout();else{var e=document.querySelector(".grid");this.msnry=new Masonry(e,{itemSelector:".grid-item",columnWidth:".home",percentPosition:!0,horizontalOrder:!0}),this.msnry=new Masonry(".grid",{})}}}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("div",{staticClass:"row d-flex justify-content-center"},[i("div",{staticClass:"topbar col-6 d-flex flex-row justify-content-around"},[i("div",{staticClass:"topbar-items"},[i("create-trip")],1),t._v(" "),i("div",{staticClass:"topbar-items"},[i("form",{on:{submit:function(e){return e.preventDefault(),t.getResults(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.destination.title,expression:"destination.title"}],attrs:{type:"text",name:"destination",id:"destination",placeholder:" Where To?"},domProps:{value:t.destination.title},on:{input:function(e){e.target.composing||t.$set(t.destination,"title",e.target.value)}}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success btn-sm mt-2 mb-2",attrs:{type:"submit"}},[t._v("Search")])])])])]),t._v(" "),i("div",{staticClass:"grid mt-2"},[t._l(t.userResults,function(e){return i("div",{key:e._id,staticClass:"grid-item"},[i("div",{staticClass:"card result"},[i("img",{attrs:{src:e.photo}}),t._v(" "),i("div",{staticClass:"test"},[i("a",{on:{click:function(i){t.selectActiveDest(e)}}},[i("strong",[t._v(t._s(e.title))])])]),t._v(" "),i("p",[t._v("Author: "+t._s(e.author))]),t._v(" "),i("button",{staticClass:"btn btn-success card-btn",on:{click:function(i){t.selectActiveDest(e)}}},[t._v("View")])])])}),t._v(" "),t._l(t.apiResults,function(e){return i("div",{key:e._id,staticClass:"grid-item"},[i("div",{staticClass:"card result"},[i("img",{attrs:{id:"img",src:e.photo}}),t._v(" "),i("strong",[t._v(t._s(e.name))]),t._v(" "),i("p",[t._v("Provided by Google")]),t._v(" "),i("button",{staticClass:"btn btn-success card-btn",attrs:{type:"button","data-toggle":"modal","data-target":"#destModal"},on:{click:function(i){t.selectDest(e)}}},[t._v("Add To Trip")]),t._v(" "),i("div",{staticClass:"modal fade",attrs:{id:"destModal",tabindex:"-1",role:"dialog","aria-labelledby":"destModalTitle","aria-hidden":"true"}},[i("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h5",{staticClass:"modal-title",attrs:{id:"destModalTitle"}},[t._v(t._s(t.currentDest.name))]),t._v(" "),t._m(0,!0)]),t._v(" "),i("div",{staticClass:"modal-body"},[i("h4",[t._v("Select a Trip!")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.trip,expression:"trip"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.trip=e.target.multiple?i:i[0]}}},[i("option",{attrs:{disabled:"",value:""}},[t._v("Add Destination to Trip: ")]),t._v(" "),t._l(t.trips,function(e){return i("option",{key:e._id,domProps:{value:e}},[t._v(t._s(e.title))])})],2)]),t._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),t.trip._id?i("button",{staticClass:"btn btn-primary btn-primary",attrs:{"data-dismiss":"modal"},on:{click:function(e){t.addDestination(t.currentDest)}}},[t._v("Submit")]):t._e()])])])])]),t._v(" "),0==t.trips.length?i("mytrip"):t._e()],1)})],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}]};var f=i("VU/8")(h,g,!1,function(t){i("Je7l")},"data-v-78f78cd1",null).exports,_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user jumbotron jumbotron-fluid bgImg"},[i("div",{staticClass:"row justify-content-center"},[i("div",{staticClass:"col-6 card"},[t.showLogin?i("div",{staticClass:"login"},[i("h1",[t._v("Login")]),t._v(" "),i("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"input",attrs:{type:"email",name:"email",placeholder:" e-mail",id:"email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"input",attrs:{type:"password",name:"password",placeholder:" password",id:"name"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success",attrs:{type:"submit"}},[t._v("Login")])]),t._v(" "),i("br"),t._v(" "),i("div",[i("p",[t._v("Click to start "),i("button",{staticClass:"btn btn-success",on:{click:t.demoLogin}},[t._v("Demo")])])]),t._v(" "),i("br"),t._v(" "),i("p",{staticClass:"user"},[t._v("Not a user?\n        "),i("em",{on:{click:t.toggle}},[i("button",{staticClass:"btn btn-danger",attrs:{type:"button"}},[t._v("Register")])])])]):t._e(),t._v(" "),t.showLogin?t._e():i("div",{staticClass:"register"},[i("h1",[t._v("Register")]),t._v(" "),i("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"input",attrs:{type:"email",name:"email",placeholder:" e-mail",id:"email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.user.displayName,expression:"user.displayName"}],staticClass:"input",attrs:{type:"text",name:"name",placeholder:"name",id:"name"},domProps:{value:t.user.displayName},on:{input:function(e){e.target.composing||t.$set(t.user,"displayName",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"input",attrs:{type:"password",name:"password",placeholder:"password",id:"name"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-danger",attrs:{type:"submit"}},[t._v("Register")])]),t._v(" "),i("br"),t._v(" "),i("div"),t._v(" "),i("br"),t._v(" "),i("p",[t._v("Already a user?\n        "),i("em",{on:{click:t.toggle}},[i("button",{staticClass:"btn btn-primary btn-success",attrs:{type:"submit"}},[t._v("Login")])])])])])])])},staticRenderFns:[]};var b=i("VU/8")({name:"Login",mounted:function(){this.$store.dispatch("authenticate")},data:function(){return{user:{email:"",displayName:"",password:""},demo:{email:"demo@demo.com",displayName:"Demo",password:"12345"},showLogin:!0}},computed:{currentUser:function(){return this.$store.state.userModule.user}},methods:{demoLogin:function(){this.$store.dispatch("login",this.demo)},login:function(){this.$store.dispatch("login",this.user)},register:function(){this.$store.dispatch("register",this.user)},toggle:function(){this.showLogin=!this.showLogin}}},_,!1,function(t){i("TSBa")},"data-v-2622d62e",null).exports,y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.apiResults?i("div",{staticClass:"search-destinations"},t._l(t.apiResults,function(e){return i("div",{key:e._id,staticClass:"result text-center"},[i("a",{on:{click:function(i){t.addDestination(e)}}},[i("p",{staticClass:"result-name"},[i("strong",[t._v(t._s(e.name))]),t._v(" - "+t._s(e.formatted_address))])])])})):t._e()},staticRenderFns:[]};var C={name:"addDestination",mounted:function(){this.$store.dispatch("getTripDestinations",this.$route.params.id)},components:{searchResults:i("VU/8")({name:"searchResults",data:function(){return{}},mounted:function(){},computed:{apiResults:function(){return this.$store.state.destModule.apiResults}},methods:{addDestination:function(t){this.$store.dispatch("addDestination",t),this.$store.dispatch("clearResults")}}},y,!1,function(t){i("3Shs")},null,null).exports},data:function(){return{toggleForm:!1,query:"",placeholder:" Where to?"}},computed:{currentTrip:function(){return this.$store.state.tripModule.activeTrip}},methods:{toggleCreate:function(){this.toggleForm=!this.toggleForm},getDestination:function(){var t=this.query;this.$store.dispatch("findDestination",t),this.query="",this.placeholder=t}}},T={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"add-destination tracker"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("h1",[t._v(" "+t._s(t.currentTrip.title))])])]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col mb-2 search-box"},[i("div",{staticClass:"d-flex flex-row justify-content-center"},[i("div",[i("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.getDestination(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"input",attrs:{type:"text",name:"title",placeholder:t.placeholder,id:"email"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"results"},[i("search-results")],1)]),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success submit-btn",on:{click:t.getDestination}},[t._v("Search")])])])])])},staticRenderFns:[]};var $=i("VU/8")(C,T,!1,function(t){i("AC96")},"data-v-74d297ba",null).exports,w={name:"edit-destination",props:{destination:{type:Object,required:!0}},mounted:function(){this.edit={title:this.destination.title,photo:this.destination.photo,place_id:this.destination.place_id,published:this.destination.published,tripId:this.destination.tripId,userId:this.destination.userId,lat:this.destination.lat,long:this.destination.long,_id:this.destination._id}},data:function(){return{editBool:!1,edit:{title:"",photo:"",place_id:"",published:"",tripId:"",userId:"",lat:"",long:"",_id:""}}},computed:{destinations:function(){return this.$store.state.destModule.destinations}},methods:{selectActiveDest:function(t){this.$store.dispatch("selectActiveDest",t)},deleteDest:function(t){this.$store.dispatch("deleteDest",t)},publishDest:function(t){t.published=!t.published,this.$store.dispatch("editDest",t)},toggleEdit:function(){this.editBool=!this.editBool},editDestination:function(t){var e={title:t.title,photo:t.photo,place_id:t.place_id,published:t.published,tripId:t.tripId,userId:t.userId,lat:t.lat,long:t.long,_id:t._id};this.$store.dispatch("editDest",e),this.editBool=!this.editBool},updateDest:function(){this.$emit("setDest",this.edit)}}},D={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"edit-destination"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("div",{staticClass:"card"},[i("img",{staticClass:"card-img-top",attrs:{src:t.destination.photo,alt:"Card image cap"}}),t._v(" "),i("router-link",{key:t.destination._id,attrs:{to:{name:"myDestination",params:{id:t.destination._id}}},nativeOn:{click:function(e){t.selectActiveDest(t.destination)}}},[i("div",{staticClass:"card-body"},[i("h5",{staticClass:"card-title"},[t._v(t._s(t.destination.title))]),t._v(" "),i("p",[t._v("Author: "+t._s(t.destination.author))])])]),t._v(" "),i("div",{staticClass:"card-text"},[i("button",{staticClass:"btn btn-success",on:{click:t.toggleEdit}},[t._v("Edit")]),t._v(" "),t.editBool?i("form",{staticClass:"form bgform d-flex flex-column",staticStyle:{width:"80%",margin:"auto"},on:{keyup:t.updateDest,submit:function(e){e.preventDefault(),t.editDestination(t.edit)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.edit.title,expression:"edit.title"}],staticClass:"input",attrs:{type:"text",name:"title",placeholder:" Title",id:"title"},domProps:{value:t.edit.title},on:{input:function(e){e.target.composing||t.$set(t.edit,"title",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.edit.photo,expression:"edit.photo"}],staticClass:"input mt-2",attrs:{type:"text",name:"description",placeholder:" Description",id:"name"},domProps:{value:t.edit.photo},on:{input:function(e){e.target.composing||t.$set(t.edit,"photo",e.target.value)}}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success mb-2 mt-2",attrs:{type:"submit"}},[t._v("Submit")])]):t._e(),t._v(" "),i("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){t.deleteDest(t.destination)}}},[t._v("Cancel")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.destination.published,expression:"destination.published"}],attrs:{type:"checkbox",id:"published"},domProps:{checked:Array.isArray(t.destination.published)?t._i(t.destination.published,null)>-1:t.destination.published},on:{click:function(e){t.publishDest(t.destination)},change:function(e){var i=t.destination.published,s=e.target,o=!!s.checked;if(Array.isArray(i)){var n=t._i(i,null);s.checked?n<0&&t.$set(t.destination,"published",i.concat([null])):n>-1&&t.$set(t.destination,"published",i.slice(0,n).concat(i.slice(n+1)))}else t.$set(t.destination,"published",o)}}}),t._v(" "),i("label",{attrs:{for:"published"}},[t._v("Publish")])])],1)])])])},staticRenderFns:[]};var x=i("VU/8")(w,D,!1,function(t){i("HZwz")},"data-v-cba1179c",null).exports,k={name:"googleMap",props:{coords:{type:Array,required:!0},name:{type:String,required:!0}},mounted:function(){},updated:function(){this.buildMap()},data:function(){return{mapName:this.name+"-map",coordinates:this.coords,markers:[],bounds:null,map:null}},computed:{},methods:{buildMap:function(){var t=this;if(this.coords.length>0){this.bounds=new google.maps.LatLngBounds;var e=document.getElementById(this.mapName);this.map=new google.maps.Map(e),this.coords.forEach(function(e){var i=new google.maps.LatLng(e.lat,e.long),s=new google.maps.Marker({position:i,map:t.map,animation:google.maps.Animation.DROP,destination:e});"destination"==t.name&&google.maps.event.addListener(s,"click",function(e){t.selectActiveDest(s.destination)}),t.markers.push(s),t.map.fitBounds(t.bounds.extend(i))}),this.map.setCenter(this.bounds.getCenter()),1==this.coords.length&&"destination"==this.name&&this.map.setZoom(10)}},selectActiveDest:function(t){this.$store.dispatch("selectActiveDest",t),this.$router.push({name:"myDestination",params:{id:t._id}})}}},M={render:function(){var t=this.$createElement,e=this._self._c||t;return this.coords.length>0?e("div",{staticClass:"map"},[e("div",{staticClass:"google-map",attrs:{id:this.mapName}})]):this._e()},staticRenderFns:[]};var A=i("VU/8")(k,M,!1,function(t){i("zJ0z")},null,null).exports,R={name:"Trip",mounted:function(){this.$store.dispatch("clearResults"),this.masonry(!1)},components:{addDestination:$,editDestination:x,googleMap:A},data:function(){return{}},computed:{destinations:function(){return this.$store.state.destModule.destinations}},watch:{destinations:function(){var t=this;this.$nextTick(function(){setTimeout(function(){t.masonry(!0)},500)})}},methods:{selectActiveDest:function(t){this.$store.dispatch("selectActiveDest",t)},deleteDest:function(t){this.$store.dispatch("deleteDest",t)},publishDest:function(t){t.published=!t.published,this.$store.dispatch("editDest",t)},setDest:function(t){var e=this.destinations.findIndex(function(e){return e._id==t._id});this.destinations.splice(e,1,t)},masonry:function(t){if(t)this.msnry.reloadItems(),this.msnry.layout();else{var e=document.querySelector(".grid");this.msnry=new Masonry(e,{itemSelector:".grid-item",columnWidth:".home",percentPosition:!0,horizontalOrder:!0}),this.msnry=new Masonry(".grid",{})}}}},I={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"trip"},[i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row justify-content-center"},[i("div",{staticClass:"col add-destination mb-2"},[i("add-destination")],1)]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 text-center mb-5"},[i("google-map",{attrs:{name:"destination",coords:t.destinations}})],1)]),t._v(" "),i("div",{staticClass:"row grid mt-2"},t._l(t.destinations,function(e){return i("div",{key:e._id,staticClass:"col-3 grid-item"},[i("div",{staticClass:"result"},[i("edit-destination",{attrs:{destination:e},on:{setDest:t.setDest}})],1)])}))])])},staticRenderFns:[]};var N=i("VU/8")(R,I,!1,function(t){i("S/g7")},"data-v-275e9974",null).exports,U={name:"edit-trip",props:{trip:{type:Object,required:!0}},mounted:function(){this.edit={title:this.trip.title,description:this.trip.description,author:this.trip.author,userId:this.trip.userId,_id:this.trip._id}},data:function(){return{editBool:!1,edit:{title:"",description:"",author:"",userId:""}}},computed:{},methods:{selectActiveTrip:function(t){this.$store.dispatch("selectActiveTrip",t)},deleteTrip:function(t){this.$store.dispatch("deleteTrip",t)},editTrip:function(t){var e={title:t.title,description:t.description,author:t.author,userId:t.userId,_id:t._id};this.$store.dispatch("editTrip",e),this.editBool=!this.editBool},toggleEdit:function(){this.editBool=!this.editBool},updateTrip:function(){this.$emit("setTrip",this.edit)},publishTrip:function(t){this.$store.dispatch("publishTrip",t)}}},S={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"edit-trip mb-2"},[i("div",{staticClass:"card-body"},[i("router-link",{attrs:{to:{name:"Trip",params:{id:t.trip._id}}},nativeOn:{click:function(e){t.selectActiveTrip(t.trip)}}},[i("h2",{staticClass:"card-title"},[t._v(t._s(t.trip.title))]),t._v(" "),i("p",{staticClass:"card-text"},[t._v(t._s(t.trip.description))])]),t._v(" "),i("div",{staticClass:"mb-2"},[i("button",{staticClass:"btn btn-success",on:{click:function(e){t.toggleEdit()}}},[t._v("Edit")]),t._v(" "),t.editBool?i("form",{staticClass:"form bgform",on:{keyup:t.updateTrip,submit:function(e){e.preventDefault(),t.editTrip(t.edit)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.edit.title,expression:"edit.title"}],staticClass:"input",attrs:{type:"text",name:"title",placeholder:" Title",id:"title"},domProps:{value:t.edit.title},on:{input:function(e){e.target.composing||t.$set(t.edit,"title",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.edit.description,expression:"edit.description"}],staticClass:"input mt-2",attrs:{type:"text",name:"description",placeholder:" Description",id:"name"},domProps:{value:t.edit.description},on:{input:function(e){e.target.composing||t.$set(t.edit,"description",e.target.value)}}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success mb-2 mt-2",attrs:{type:"submit"}},[t._v("Submit")])]):t._e(),t._v(" "),t.trip.published?t._e():i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.publishTrip(t.trip)}}},[t._v("Publish")]),t._v(" "),t.trip.published?i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.publishTrip(t.trip)}}},[t._v("Unpublish")]):t._e(),t._v(" "),i("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){t.deleteTrip(t.trip)}}},[t._v("Cancel")])])],1)])},staticRenderFns:[]};var E={name:"trips",components:{editTrip:i("VU/8")(U,S,!1,function(t){i("ZNEA")},null,null).exports},data:function(){return{}},mounted:function(){},computed:{trips:function(){return this.$store.state.tripModule.userTrips}},methods:{setTrip:function(t){var e=this.trips.findIndex(function(e){return e._id==t._id});this.trips.splice(e,1,t)}}},P={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"trips mt-2"},[i("div",{staticClass:"row justify-content-center"},t._l(t.trips,function(e){return i("div",{staticClass:"col-md-3 ml-2 mt-3 card",staticStyle:{width:"18rem"}},[i("editTrip",{attrs:{trip:e},on:{setTrip:t.setTrip}})],1)}))])},staticRenderFns:[]};var F={name:"myTrips",components:{trips:i("VU/8")(E,P,!1,function(t){i("8fRE")},"data-v-3ee43378",null).exports,createTrip:v},mounted:function(){this.$store.state.userModule.user._id||this.$router.push({name:"User"}),this.$store.dispatch("getUsersTrips")},data:function(){return{}},computed:{trips:function(){this.$store.state.tripModule.trips}},methods:{}},L={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"my-trips jumbotron"},[e("create-trip"),this._v(" "),e("trips")],1)},staticRenderFns:[]};var j=i("VU/8")(F,L,!1,function(t){i("oWj0")},"data-v-65d9fc1a",null).exports,V={name:"Comment",props:{todo:{type:Object,required:!0}},data:function(){return{newComment:!1,comment:{comment:"",photo:""}}},mounted:function(){},computed:{user:function(){return this.$store.state.userModule.user}},methods:{addComment:function(t){this.comment.author=this.user.displayName,t.comments.unshift(this.comment),this.$store.dispatch("editTodo",t)},toggleComment:function(){this.newComment=!this.newComment},deleteComment:function(t){console.log(t.comments),t.comments.splice(t.comments._id,1),console.log(t.comments),this.$store.dispatch("deleteComment",t)}}},q={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"comment"},[i("button",{on:{click:t.toggleComment}},[t._v("Add Comment")]),t._v(" "),t.newComment?i("form",{staticClass:"form",on:{submit:function(e){e.preventDefault(),t.addComment(t.todo)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.comment.comment,expression:"comment.comment"}],staticClass:"input",attrs:{type:"text",name:"comment",placeholder:" comment",id:"comment"},domProps:{value:t.comment.comment},on:{input:function(e){e.target.composing||t.$set(t.comment,"comment",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.comment.photo,expression:"comment.photo"}],staticClass:"input",attrs:{type:"url",name:"image",placeholder:" image",id:"image"},domProps:{value:t.comment.photo},on:{input:function(e){e.target.composing||t.$set(t.comment,"photo",e.target.value)}}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success",attrs:{type:"submit"}},[t._v("Add")])]):t._e(),t._v(" "),t._l(t.todo.comments,function(e){return i("div",{key:e._id},[i("p",[t._v(t._s(e.comment))]),t._v(" "),i("img",{attrs:{src:e.photo,alt:""}}),t._v(" "),i("p",[t._v("Author: "+t._s(e.author))]),t._v(" "),i("button",{on:{click:function(e){t.deleteComment(t.todo)}}},[t._v("Delete Comment")])])})],2)},staticRenderFns:[]};var B=i("VU/8")(V,q,!1,function(t){i("vjxX")},"data-v-5068a214",null).exports,O={name:"carousel",props:{todo:{type:Object,required:!0}},data:function(){return{activeImage:0,timer:null}},mounted:function(){this.autoSlide(!1)},computed:{},methods:{nextImage:function(){this.autoSlide(),this.activeImage==this.todo.gallery.length-1?this.activeImage=0:this.activeImage++},prevImage:function(){0==this.activeImage?this.activeImage=this.todo.gallery.length-1:this.activeImage--},autoSlide:function(){var t=this;this.timer&&clearInterval(this.timer),this.timer=setInterval(function(){t.nextImage()},5e3)}}},W={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"carousel slide formatCarousel",attrs:{id:"toggleSwitches","data-ride":"carousel","data-interval":"1000"},on:{change:function(e){t.autoSlide()}}},[i("div",{staticClass:"carousel-inner"},t._l(t.todo.gallery,function(e,s){return i("div",{class:{active:s==t.activeImage,"carousel-item":!0}},[i("img",{staticClass:"d-block w-100 img-fluid",staticStyle:{height:"40vh"},attrs:{src:e,alt:""}})])})),t._v(" "),i("span",{on:{click:function(e){t.prevImage()}}},[i("a",{staticClass:"carousel-control-prev",attrs:{href:"#toggleSwitches",role:"button","data-slide":"prev"}},[i("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),t._v(" "),i("span",{staticClass:"sr-only",on:{click:t.prevImage}},[t._v("Previous")])])]),t._v(" "),i("span",{on:{click:function(e){t.nextImage(),t.autoSlide()}}},[t._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"carousel-control-next",attrs:{href:"#toggleSwitches",role:"button","data-slide":"next"}},[e("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),this._v(" "),e("span",{staticClass:"sr-only"},[this._v("Next")])])}]};var z={name:"Todos",components:{Comment:B,googleMap:A,carousel:i("VU/8")(O,W,!1,function(t){i("p3TM")},null,null).exports},data:function(){return{isActive:!0,toggle:!1,img:"",todo:{title:"",description:"",gallery:[]}}},mounted:function(){this.$store.state.userModule.user._id||this.$router.push({name:"User"}),this.$store.dispatch("getDestTodos",this.$store.state.destModule.activeDest._id)},computed:{todos:function(){var t=this.$store.state.todoModule.userTodos;return console.log(this.$store.state.todoModule.userTodos,"todos are computing and should be empty for now"),t}},methods:{deleteTodo:function(t){this.$store.dispatch("deleteTodo",t)},editTodo:function(t){t.gallery.unshift(this.img),this.$store.dispatch("editTodo",t)},toggleEdit:function(){this.toggle=!this.toggle}}},G={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"current-todos"},[i("p",[t._v("Fun activities for your destination!")]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("google-map",{attrs:{name:"todos",coords:t.todos}})],1)]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[t._l(t.todos,function(e,s){return i("div",{key:e._id},[i("h4",[t._v(t._s(e.title))]),t._v(" "),i("h5",[t._v(t._s(e.description))]),t._v(" "),i("p",[t._v("Author: "+t._s(e.author))]),t._v(" "),e.gallery.length>0?i("div",[i("carousel",{attrs:{todo:e}})],1):t._e(),t._v(" "),i("button",{on:{click:t.toggleEdit}},[t._v("Edit")]),t._v(" "),t.toggle?i("form",{staticClass:"form",on:{submit:function(i){i.preventDefault(),t.editTodo(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"todo.title"}],staticClass:"input",attrs:{type:"text",name:"comment",placeholder:" comment",id:"comment"},domProps:{value:e.title},on:{input:function(i){i.target.composing||t.$set(e,"title",i.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"todo.description"}],staticClass:"input",attrs:{type:"text",name:"description",placeholder:"description",id:"descroption"},domProps:{value:e.description},on:{input:function(i){i.target.composing||t.$set(e,"description",i.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.img,expression:"img"}],staticClass:"input",attrs:{type:"url",name:"image",placeholder:" image",id:"image"},domProps:{value:t.img},on:{input:function(e){e.target.composing||(t.img=e.target.value)}}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success",attrs:{type:"submit"}},[t._v("Make Change")])]):t._e()])}),t._v(" "),i("comment",{attrs:{todo:t.todo}})],2)])])},staticRenderFns:[]};var H=i("VU/8")(z,G,!1,function(t){i("6hhj")},"data-v-99d6a5f6",null).exports,J={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"add-todo todo"},[i("div",{staticClass:"find d-flex flex-row"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"form-control",attrs:{name:"Category"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.category=e.target.multiple?i:i[0]},t.searchTodos]}},[i("option",{attrs:{value:"Select a Category",hidden:""}},[t._v("Select a Category")]),t._v(" "),t._l(t.categories,function(e){return i("option",{domProps:{value:e}},[t._v(t._s(e))])})],2)]),t._v(" "),t.usersTodos.length+t.googleTodos.length>0?i("div",{staticClass:"results"},[i("div",{staticClass:"userResults"},t._l(t.usersTodos,function(e){return i("a",{on:{click:function(i){t.addTodo(e)}}},[i("p",{staticClass:"todo-result"},[t._v(t._s(e.title))])])})),t._v(" "),i("div",{staticClass:"googleResults"},t._l(t.googleTodos,function(e){return i("a",{on:{click:function(i){t.addGoogleTodo(e)}}},[i("p",{staticClass:"todo-result"},[t._v(t._s(e.name))])])}))]):t._e()])},staticRenderFns:[]};var Z={name:"createTodo",data:function(){return{newImg:!1,category:"",todo:{title:"",description:"",img:"",gallery:[],categories:[]},lat:0,long:0}},mounted:function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(this.getPos)},computed:{categories:function(){return this.$store.state.categories}},methods:{toggleImg:function(){this.newImg=!this.newImg},addImg:function(){this.todo.gallery.unshift(this.todo.img),this.todo.img=""},addTodo:function(){var t={title:this.todo.title,description:this.todo.description,gallery:this.todo.gallery,categories:this.todo.categories,lat:this.lat,long:this.long};this.$store.dispatch("addTodo",t),this.todo={title:"",description:"",img:"",gallery:[],categories:[]}},getPos:function(t){this.lat=t.coords.latitude,this.long=t.coords.longitude},addCatergory:function(){this.category&&!this.todo.categories.includes(this.category)&&this.todo.categories.push(this.category)},removeCategory:function(t){this.todo.categories.splice(t,1)}}},X={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"create-todo"},[i("div",[t._v("CreateToDo Component")]),t._v(" "),i("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.addTodo(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.title,expression:"todo.title"}],staticClass:"input",attrs:{type:"text",name:"title",placeholder:" title",id:"email"},domProps:{value:t.todo.title},on:{input:function(e){e.target.composing||t.$set(t.todo,"title",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.description,expression:"todo.description"}],staticClass:"input",attrs:{type:"text",name:"description",placeholder:" description",id:"email"},domProps:{value:t.todo.description},on:{input:function(e){e.target.composing||t.$set(t.todo,"description",e.target.value)}}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success",attrs:{type:"submit"}},[t._v("Add")])]),t._v(" "),i("div",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"form-control",attrs:{name:"Category"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.category=e.target.multiple?i:i[0]}}},[i("option",{attrs:{selected:"",disabled:""}},[t._v("Select a Category")]),t._v(" "),t._l(t.categories,function(e){return i("option",{domProps:{value:e}},[t._v(t._s(e))])})],2),t._v(" "),i("button",{on:{click:t.addCatergory}},[t._v("Add")])]),t._v(" "),i("div",{staticClass:"d-flex align-items-row"},t._l(t.todo.categories,function(e,s){return i("p",{staticClass:"ml-3",staticStyle:{color:"blue"}},[t._v(t._s(e)+"\n      "),i("a",{staticStyle:{color:"red"},on:{click:function(e){t.removeCategory(s)}}},[t._v("x")])])})),t._v(" "),i("button",{on:{click:t.toggleImg}},[t._v("Add image")]),t._v(" "),i("div",{staticClass:"row"},t._l(t.todo.gallery,function(t){return i("div",{staticClass:"col"},[i("img",{attrs:{src:t,alt:""}})])})),t._v(" "),t.newImg?i("form",{on:{submit:function(e){return e.preventDefault(),t.addImg(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.img,expression:"todo.img"}],attrs:{type:"url",name:"img",placeholder:"Image Url",id:"img"},domProps:{value:t.todo.img},on:{input:function(e){e.target.composing||t.$set(t.todo,"img",e.target.value)}}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success",attrs:{type:"submit"}},[t._v("Add")])]):t._e()])},staticRenderFns:[]};var Y={mounted:function(){this.$store.dispatch("getDestTodos",this.$route.params.id),this.$store.dispatch("clearResults")},name:"userDestination",components:{todos:H,addTodo:i("VU/8")({name:"addTodo",data:function(){return{category:"Select a Category"}},mounted:function(){},computed:{categories:function(){return this.$store.state.categories},usersTodos:function(){return this.$store.state.todoModule.todos},googleTodos:function(){return this.$store.state.todoModule.googleTodos}},methods:{searchTodos:function(){this.$store.dispatch("findTodos",this.category),this.$store.dispatch("clearResults")},addTodo:function(t){this.$store.dispatch("addTodo",t),this.$store.dispatch("clearResults")},addGoogleTodo:function(t){this.$store.dispatch("addGoogleTodo",t),this.$store.dispatch("clearResults")}}},J,!1,function(t){i("sWnb")},"data-v-7c7de711",null).exports,createTodo:i("VU/8")(Z,X,!1,function(t){i("79Ws")},"data-v-272ef528",null).exports},data:function(){return{displayAdd:!1,displayCreate:!1}},computed:{currentDest:function(){return this.$store.state.destModule.activeDest}},methods:{toggleCreate:function(){this.displayCreate=!this.displayCreate,this.displayAdd=!1},toggleAdd:function(){this.displayAdd=!this.displayAdd,this.displayCreate=!1}}},K={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user-destination"},[i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("h3",[t._v(t._s(t.currentDest.title))]),t._v(" "),i("p",[t._v("Author: "+t._s(t.currentDest.author))])])]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("button",{staticClass:"btn btn-primary",on:{click:t.toggleCreate}},[t._v("Create New Todo")]),t._v(" "),i("button",{staticClass:"btn btn-success",on:{click:t.toggleAdd}},[t._v("Add Todo")]),t._v(" "),t.displayCreate?i("create-todo"):t._e(),t._v(" "),i("div",{staticClass:"todos"},[t.displayAdd?i("add-todo"):t._e()],1),t._v(" "),i("todos")],1)])])])},staticRenderFns:[]};var Q=i("VU/8")(Y,K,!1,function(t){i("QwD4")},"data-v-0ac3a057",null).exports;s.a.use(r.a);var tt=new r.a({routes:[{path:"/",name:"Home",component:f},{path:"/login",name:"User",component:b},{path:"/destination",name:"Destination",component:l},{path:"/trip/:id",name:"Trip",component:N},{path:"/mytrips",name:"myTrips",component:j},{path:"/mydestination/:id",name:"myDestination",component:Q},{path:"/todos",name:"ToDos",component:H}]}),et=i("NYxO"),it=i("mtWM"),st=i.n(it),ot=!window.location.host.includes("localhost")?"https://i-be-trippin.herokuapp.com":"//localhost:3000",nt=st.a.create({baseURL:ot,timeout:3e3,withCredentials:!0}),at={state:{user:{}},mutations:{setUser:function(t,e){t.user=e}},actions:{login:function(t,e){t.dispatch;var i=t.commit;nt.post("/login",e).then(function(t){tt.push("/"),i("setUser",t)}).catch(function(t){console.log(t.data)})},register:function(t,e){t.dispatch;var i=t.commit;nt.post("/register",e).then(function(t){tt.push("/"),i("setUser",t)}).catch(function(t){console.log(t.data)})},authenticate:function(t,e){var i=t.commit;t.dispatch;nt.get("/authenticate").then(function(t){i("setUser",t.data.data),tt.push("/")}).catch(function(t){console.log(t)})},signOut:function(t){var e=t.commit;t.dispatch,t.state;nt.delete("/logout").then(function(t){e("setUser",{}),tt.push({name:"User"})}).catch(function(t){console.log(t.data)})},endDemo:function(t){t.dispatch,t.commit;var e=t.state;e.user._id&&nt.delete("/end-demo/"+e.user._id).then(function(t){console.log(t)}).catch(function(t){console.log(t)})}}},rt=!window.location.host.includes("localhost")?"https://i-be-trippin.herokuapp.com":"//localhost:3000",ct=st.a.create({baseURL:rt,timeout:3e3,withCredentials:!0}),dt={state:{userTrips:[],activeTrip:{}},mutations:{addTrip:function(t,e){t.userTrips.unshift(e)},setUserTrips:function(t,e){t.userTrips=e},setActiveTrip:function(t,e){t.activeTrip=e},setEditTrip:function(t,e){var i=t.userTrips.findIndex(function(t){return t._id==e._id});t.userTrips.splice(i,1,e)}},actions:{createTrip:function(t,e){t.dispatch;var i=t.commit,s=t.rootState;e.author=s.userModule.user.displayName,ct.post("/api/trips",e).then(function(t){i("addTrip",t.data)}).catch(function(t){console.log(t)})},deleteTrip:function(t,e){t.commit;var i=t.dispatch;ct.delete("/api/trips/"+e._id).then(function(t){i("getUsersTrips")}).catch(function(t){console.log(t)})},getUsersTrips:function(t){t.dispatch;var e=t.commit,i=t.rootState;ct.get("/api/trips/user/"+i.userModule.user._id).then(function(t){e("setUserTrips",t.data)}).catch(function(t){console.log(t)})},selectActiveTrip:function(t,e){t.dispatch;(0,t.commit)("setActiveTrip",e)},editTrip:function(t,e){var i=t.commit;t.dispatch;ct.put("/api/trips/"+e._id,e).then(function(t){i("setEditTrip",t.data.trip)})},publishTrip:function(t,e){t.dispatch;var i=t.commit;e.published=!e.published;var s={published:!e.published};ct.put("/api/trip/publish/"+e._id,s).then(function(t){i("setEditTrip",e)}).catch(function(t){console.log(t)})}}},lt=!window.location.host.includes("localhost")?"https://i-be-trippin.herokuapp.com":"//localhost:3000",ut=st.a.create({baseURL:lt,timeout:3e3,withCredentials:!0}),pt={state:{apiResults:[],userResults:[],destinations:[],activeDest:{}},mutations:{setApiResults:function(t,e){t.apiResults=e},setUserResults:function(t,e){t.userResults=e},setDestinations:function(t,e){t.destinations=e},setActiveDest:function(t,e){t.activeDest=e},setEditDestination:function(t,e){var i=t.destinations.findIndex(function(t){return t._id==e._id});t.destinations.splice(i,1,e)}},actions:{findDestination:function(t,e){var i=t.commit,s=t.dispatch;ut.get("/api/locations/"+e).then(function(t){console.log(t),i("setApiResults",t.data),s("getUserResults",t.data)}).catch(function(t){console.log(t)})},getUserResults:function(t,e){var i=t.commit;t.dispatch;console.log(e,"search");var s=e[0];ut.get("/api/destinations/"+s.place_id+"/place").then(function(t){console.log(t.data),i("setUserResults",t.data)}).catch(function(t){console.log(t)})},addDestination:function(t,e){var i=t.dispatch,s=(t.commit,t.rootState);if(e.geometry)var o={title:e.name,place_id:e.place_id,tripId:s.tripModule.activeTrip._id,long:e.geometry.location.lng,lat:e.geometry.location.lat,photo:e.photo,author:s.userModule.user.displayName};else o={title:e.title,place_id:e.place_id,tripId:s.tripModule.activeTrip._id,long:e.long,lat:e.lat,photo:e.photo,author:s.userModule.user.displayName};ut.post("/api/destinations",o).then(function(t){i("getTripDestinations",t.data.tripId)}).catch(function(t){console.log(t)})},deleteDest:function(t,e){t.commit;var i=t.dispatch;ut.delete("/api/destinations/"+e._id).then(function(t){console.log(t),i("getTripDestinations",e.tripId)}).catch(function(t){console.log(t)})},getTripDestinations:function(t,e){t.dispatch;var i=t.commit;ut.get("/api/trips/"+e+"/destinations").then(function(t){i("setDestinations",t.data)}).catch(function(t){console.log(t)})},editDest:function(t,e){var i=t.commit;t.dispatch;ut.put("/api/destinations/"+e._id,e).then(function(t){i("setEditDestination",t.data.destination)})},selectActiveDest:function(t,e){t.dispatch;var i=t.commit;console.log("works",e),i("setActiveDest",e)}}},mt=!window.location.host.includes("localhost")?"https://i-be-trippin.herokuapp.com":"//localhost:3000",vt=st.a.create({baseURL:mt,timeout:3e3,withCredentials:!0}),ht={state:{userTodos:[],googleTodos:[],todos:[]},mutations:{setUserTodos:function(t,e){t.userTodos=e},setGoogleTodos:function(t,e){t.googleTodos=e},setNewTodo:function(t,e){t.userTodos.unshift(e)},setComment:function(t,e){var i=t.userTodos.findIndex(function(t){return t._id==e._id});t.userTodos.splice(i,1),t.userTodos.unshift(e)},setRemoveTodo:function(t,e){var i=t.userTodos.findIndex(function(t){return t._id==e._id});t.userTodos.splice(i,1)},setTodos:function(t,e){t.todos=e}},actions:{findTodos:function(t,e){var i=t.dispatch,s=t.commit,o=t.rootState;vt.get("/api/thingstodo/"+o.destModule.activeDest.place_id+"/"+e).then(function(t){s("setTodos",t.data),i("getGoogleTodos",e)}).catch(function(t){console.log(t)})},getGoogleTodos:function(t,e){t.dispatch;var i=t.commit,s=t.rootState,o={categories:e.replace(" ","_"),coords:s.destModule.activeDest.lat+","+s.activeDest.long};vt.post("/api/nearby/places",o).then(function(t){console.log(t.data.results),i("setGoogleTodos",t.data.results)}).catch(function(t){console.log(t)})},addTodo:function(t,e){t.dispatch;var i=t.commit,s=t.rootState;e.destinationId=s.destModule.activeDest._id,e.tripId=s.tripModule.activeTrip._id,e.author=s.userModule.user.displayName,e.place_id=s.destModule.activeDest.place_id,vt.post("/api/thingstodo",e).then(function(t){i("setNewTodo",t.data)}).catch(function(t){console.log(t)})},addGoogleTodo:function(t,e){t.dispatch;var i=t.commit,s=t.rootState,o={place_id:s.destModule.activeDest.place_id,title:e.name,categories:e.types,destinationId:s.destModule.activeDest._id,tripId:s.tripModule.activeTrip._id,lat:e.geometry.location.lat,long:e.geometry.location.lng};o.author=s.userModule.user.displayName,vt.post("/api/thingstodo",o).then(function(t){i("setNewTodo",t.data)}).catch(function(t){console.log(t)})},getDestTodos:function(t,e){t.dispatch;var i=t.commit;vt.get("/api/destinations/"+e+"/thingstodo").then(function(t){i("setUserTodos",t.data)}).catch(function(t){console.log(t)})},deleteTodo:function(t,e){var i=t.commit,s=(t.dispatch,e);vt.delete("/api/thingstodo/"+e._id).then(function(t){i("setRemoveTodo",s)}).catch(function(t){console.log(t)})},editTodo:function(t,e){t.dispatch;var i=t.commit;vt.put("/api/thingstodo/"+e._id,e).then(function(t){i("setComment",t.data.thingtodo)}).catch(function(t){console.log(t)})},deleteComment:function(t,e){t.dispatch,t.commit;vt.put("/api/thingstodo/"+e._id,e).then(function(t){console.log(t.data.thingtodo)})}}},gt=!window.location.host.includes("localhost")?"https://i-be-trippin.herokuapp.com":"//localhost:3000";s.a.use(et.a);st.a.create({baseURL:gt,timeout:3e3,withCredentials:!0});var ft=new et.a.Store({modules:{userModule:at,tripModule:dt,destModule:pt,todoModule:ht},state:{categories:["airport","amusement park","aquarium","art gallery","bakery","bank","bar","beauty salon","book store","bowling alley","cafe","campground","car rental","casino","church","city hall","clothing store","convenience store","department store","electronics store","embassy","florist","food","gas station","furniture store","gym","hardware store","hindu temple","home goods store","jewelry store","library","liquor store","locksmith","lodging","meal delivery","mosque","movie rental","movie theater","museum","night club","park","pet store","pharmacy","point of interest","place of worship","restaurant","rv park","school","shoe store","shopping mall","spa","stadium","store","subway station","supermarket","synagogue","train station","travel agency","transit station","zoo"]},mutations:{},actions:{clearResults:function(t){t.dispatch;var e=t.commit;e("setApiResults",[]),e("setUserResults",[]),e("setGoogleTodos",[]),e("setTodos",[])}}});s.a.config.productionTip=!1,new s.a({el:"#app",router:tt,store:ft,components:{App:a},template:"<App/>"}),s.a.directive("mason",{update:function(t,e,i){var o=e.value;s.a.nextTick(function(){o()})}})},QwD4:function(t,e){},"S/g7":function(t,e){},TSBa:function(t,e){},ZNEA:function(t,e){},bfNI:function(t,e){},lvYX:function(t,e,i){t.exports=i.p+"static/img/whitelogo.0556282.png"},oWj0:function(t,e){},p3TM:function(t,e){},sWnb:function(t,e){},vjxX:function(t,e){},zDTw:function(t,e){},zJ0z:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.2d66cde5039f0331db92.js.map
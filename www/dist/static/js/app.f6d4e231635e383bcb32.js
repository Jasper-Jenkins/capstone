webpackJsonp([1],{"/E0N":function(t,e){},"/fvY":function(t,e){},"/jr8":function(t,e){},"3Shs":function(t,e){},"6hne":function(t,e){},"6vu/":function(t,e){},"7Q/P":function(t,e){},"8/Kl":function(t,e){},"8fRE":function(t,e){},AC96:function(t,e){},HZwz:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),o={name:"App",computed:{user:function(){return this.$store.state.userModule.user}},mounted:function(){var t=this;this.$store.dispatch("authenticate"),window.addEventListener("beforeunload",function(){"demo@demo.com"==t.$store.state.userModule.user.email&&(t.$store.dispatch("endDemo"),t.$store.dispatch("signOut"))})},methods:{login:function(){this.$router.push({name:"User"})},signOut:function(){this.$store.dispatch("signOut")}},destroyed:function(){this.$store.dispatch("endDemo"),this.$store.dispatch("signOut")}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("nav",{staticClass:"navbar navbar-dark bg-primary top-header format"},[i("div",{staticClass:"navbar-left"},[i("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"Home"}}},[i("a",[t._v("Home")])]),t._v(" "),i("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"myTrips"}}},[i("a",[t._v("My Trips")])])],1),t._v(" "),i("img",{attrs:{src:s("lvYX"),width:"280px"}}),t._v(" "),t.user._id?t._e():i("a",{staticClass:"navbar-brand",on:{click:t.login}},[i("button",{staticClass:"btn btn-outline-light",attrs:{type:"button"}},[t._v("Sign In/Login")])]),t._v(" "),t.user._id?i("div",{staticClass:"d-flex flex-column"},[i("a",{staticClass:"navbar-brand"},[t._v("User: "+t._s(t.user.displayName))]),t._v(" "),i("a",{staticClass:"navbar-brand btn btn-outline-light",on:{click:t.signOut}},[t._v("Sign out")])]):t._e()]),t._v(" "),i("router-view")],1)},staticRenderFns:[]};var n=s("VU/8")(o,a,!1,function(t){s("p+ro")},null,null).exports,r=s("/ocq"),d={name:"Comment",props:{todo:{type:Object,required:!0}},data:function(){return{newComment:!1,comment:{comment:"",photo:""}}},mounted:function(){},computed:{user:function(){return this.$store.state.userModule.user}},methods:{addComment:function(t){this.comment.author=this.user.displayName,t.comments.unshift(this.comment),this.$store.dispatch("editTodo",t)},toggleComment:function(){this.newComment=!this.newComment},deleteComment:function(t){console.log(t.comments),t.comments.splice(t.comments._id,1),console.log(t.comments),this.$store.dispatch("deleteComment",t)}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comment"},[t.newComment?t._e():s("a",{on:{click:t.toggleComment}},[t._v("Show Comments - "+t._s(t.todo.comments.length))]),t._v(" "),t.newComment?s("a",{on:{click:t.toggleComment}},[t._v("Hide Comments - "+t._s(t.todo.comments.length))]):t._e(),t._v(" "),t.newComment?s("div",[t._l(t.todo.comments,function(e){return s("div",{key:e._id,staticClass:"card comments"},[s("img",{staticClass:"comment-img",attrs:{src:e.photo,alt:""}}),t._v(" "),s("p",{staticClass:"comment-text"},[t._v(t._s(e.comment))]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"d-flex flex-row justify-content-around"},[s("p",[t._v("Author: "+t._s(e.author))]),t._v(" "),s("button",{staticClass:"btn btn-danger delete-btn",on:{click:function(e){t.deleteComment(t.todo)}}},[t._v("Delete Comment")])])])}),t._v(" "),s("form",{staticClass:"form mt-2",on:{submit:function(e){e.preventDefault(),t.addComment(t.todo)}}},[s("div",{staticClass:"form-vals d-flex flex-row"},[s("div",{staticClass:"form-inputs"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.comment.comment,expression:"comment.comment"}],staticClass:"input",attrs:{type:"text",name:"comment",placeholder:" comment",id:"comment"},domProps:{value:t.comment.comment},on:{input:function(e){e.target.composing||t.$set(t.comment,"comment",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.comment.photo,expression:"comment.photo"}],staticClass:"input",attrs:{type:"url",name:"image",placeholder:" image",id:"image"},domProps:{value:t.comment.photo},on:{input:function(e){e.target.composing||t.$set(t.comment,"photo",e.target.value)}}})]),t._v(" "),t._m(0)])])],2):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-btn"},[e("button",{staticClass:"btn btn-primary btn-success",attrs:{type:"submit"}},[this._v("Add")])])}]};var l=s("VU/8")(d,c,!1,function(t){s("7Q/P")},"data-v-0f276b99",null).exports,u={name:"carousel",props:{gallery:{type:Array,required:!0}},data:function(){return{activeImage:0}},computed:{},methods:{nextImage:function(){this.activeImage==this.gallery.length-1?this.activeImage=0:this.activeImage++},prevImage:function(){0==this.activeImage?this.activeImage=this.gallery.length-1:this.activeImage--}}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"carousel"},[s("div",{staticClass:"carousel slide formatCarousel",attrs:{id:"toggleSwitches","data-ride":"carousel","data-interval":"1000"}},[s("div",{staticClass:"carousel-inner"},t._l(t.gallery,function(e,i){return s("div",{class:{active:i==t.activeImage,"carousel-item":!0}},[s("img",{staticClass:"d-block w-100 img-fluid",staticStyle:{height:"40vh"},attrs:{src:e,alt:""}})])})),t._v(" "),s("span",{on:{click:function(e){t.prevImage()}}},[s("a",{staticClass:"carousel-control-prev",attrs:{href:"#toggleSwitches",role:"button","data-slide":"prev"}},[s("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),t._v(" "),s("span",{staticClass:"sr-only",on:{click:t.prevImage}},[t._v("Previous")])])]),t._v(" "),s("span",{on:{click:t.nextImage}},[t._m(0)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"carousel-control-next",attrs:{href:"#toggleSwitches",role:"button","data-slide":"next"}},[e("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),this._v(" "),e("span",{staticClass:"sr-only"},[this._v("Next")])])}]};var m=s("VU/8")(u,p,!1,function(t){s("m+2K")},null,null).exports,h={name:"Destination",components:{Comment:l,carousel:m},data:function(){return{destination:{},selectTrip:{}}},mounted:function(){this.$store.state.userModule.user._id||this.$router.push({name:"User"})},computed:{activeDest:function(){return this.$store.state.destModule.activeDest},trips:function(){return this.$store.state.tripModule.userTrips},todos:function(){return this.$store.state.todoModule.userTodos}},methods:{addDestination:function(t){this.$store.dispatch("selectActiveTrip",this.selectTrip),this.$store.dispatch("addDestination",t),alert("Destination added to your trip")}}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"destination"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"top-bar"},[s("div",[s("h2",[t._v(t._s(t.activeDest.title))]),t._v(" "),s("img",{attrs:{src:t.activeDest.photo,alt:""}}),t._v(" "),s("p",[t._v("Author: "+t._s(t.activeDest.author))])]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectTrip,expression:"selectTrip"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectTrip=e.target.multiple?s:s[0]}}},[s("option",{attrs:{hidden:"",value:"Add Destination to Trip: "}},[t._v("Add Destination to Trip: ")]),t._v(" "),t._l(t.trips,function(e){return s("option",{key:e._id,domProps:{value:e}},[t._v(t._s(e.title))])})],2),t._v(" "),s("button",{staticClass:"btn btn-success",on:{click:function(e){t.addDestination(t.activeDest)}}},[t._v("Add destination to trip")])])])]),t._v(" "),s("div",{staticClass:"row d-flex justify-content-around mt-3"},t._l(t.todos,function(e,i){return s("div",{key:e._id,staticClass:"col-3 todo-card card"},[e.gallery.length>0?s("div",[s("carousel",{attrs:{gallery:e.gallery}})],1):t._e(),t._v(" "),s("h4",[t._v(t._s(e.title))]),t._v(" "),s("h5",[t._v(t._s(e.description))]),t._v(" "),s("p",[t._v("Categories: ")]),t._v(" "),s("div",{staticClass:"d-flex flex-row flex-wrap"},t._l(e.categories,function(i,o){return s("p",{staticClass:"ml-2"},[t._v(t._s(i)+"\n          "),o<e.categories.length-1?s("span",[t._v(",")]):t._e()])})),t._v(" "),s("p",[t._v("Author: "+t._s(e.author))]),t._v(" "),s("comment",{attrs:{todo:e}})],1)}))])},staticRenderFns:[]};var g=s("VU/8")(h,v,!1,function(t){s("sGu9")},"data-v-72d12ddc",null).exports,f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my-trip"},[s("div",{staticClass:"mb-2 mt-2"},[s("h4",[t._v("First Trip?")]),t._v(" "),s("button",{staticClass:"btn btn-primary btn-success btn-sm",attrs:{type:"submit"},on:{click:t.newTrip}},[t._v("Click Here")]),t._v(" To Create A New Trip")]),t._v(" "),t.toggleForm?s("div",{staticClass:"create-trip"},[s("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.createTrip(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.title,expression:"trip.title"}],staticClass:"input",attrs:{type:"text",name:"title",placeholder:" Title",id:"email"},domProps:{value:t.trip.title},on:{input:function(e){e.target.composing||t.$set(t.trip,"title",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.description,expression:"trip.description"}],staticClass:"input mt-2",attrs:{type:"text",name:"description",placeholder:" Description",id:"name"},domProps:{value:t.trip.description},on:{input:function(e){e.target.composing||t.$set(t.trip,"description",e.target.value)}}}),t._v(" "),s("div",{staticClass:"mb-2"}),t._v(" "),s("button",{staticClass:"btn btn-primary btn-success mb-2",attrs:{type:"submit"}},[t._v("Create")])])]):t._e()])},staticRenderFns:[]};var _=s("VU/8")({name:"myTrip",data:function(){return{trip:{title:"",description:""},toggleForm:!1}},mounted:function(){},computed:{},methods:{createTrip:function(){this.$store.dispatch("createTrip",this.trip),this.toggleForm=!this.toggleForm},newTrip:function(){this.toggleForm=!this.toggleForm}}},f,!1,function(t){s("8/Kl")},"data-v-0ab1e979",null).exports,b={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"create-trip"},[s("button",{staticClass:"btn btn-primary btn-success",attrs:{"data-toggle":"modal","data-target":"#createTripModal"},on:{click:t.checkLogin}},[t._v("Start New Trip")]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"createTripModal",tabindex:"-1",role:"dialog","aria-labelledby":"createTripModalTitle","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),s("div",{staticClass:"modal-body"},[s("form",{staticClass:"form bgform",on:{submit:function(e){return e.preventDefault(),t.createTrip(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.title,expression:"trip.title"}],staticClass:"input",attrs:{type:"text",name:"title",placeholder:" Title",id:"email"},domProps:{value:t.trip.title},on:{input:function(e){e.target.composing||t.$set(t.trip,"title",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.description,expression:"trip.description"}],staticClass:"input mt-2",attrs:{type:"text",name:"description",placeholder:" Description",id:"name"},domProps:{value:t.trip.description},on:{input:function(e){e.target.composing||t.$set(t.trip,"description",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),t.trip.title.length>0?s("button",{staticClass:"btn btn-primary btn-primary",attrs:{"data-dismiss":"modal"},on:{click:function(e){t.createTrip()}}},[t._v("Submit")]):t._e()])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"createTripModalTitle"}},[this._v("Create a Trip!")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]};var C=s("VU/8")({name:"CreateTrip",data:function(){return{trip:{title:"",description:""},toggleForm:!1}},mounted:function(){},computed:{},methods:{createTrip:function(){this.$store.dispatch("createTrip",this.trip),this.toggleForm=!this.toggleForm},checkLogin:function(){this.$store.state.userModule.user._id||this.$router.push({name:"User"})}}},b,!1,function(t){s("zDTw")},"data-v-2e31eba1",null).exports,y={name:"Home",data:function(){return{destination:{title:""},trip:{},msnry:null}},components:{destination:g,mytrip:_,createTrip:C},watch:{apiResults:function(){var t=this;this.$nextTick(function(){setTimeout(function(){t.masonry(!0)},500),setTimeout(function(){t.masonry(!0)},3e3)})}},computed:{userResults:function(){return this.$store.state.destModule.userResults},apiResults:function(){return this.$store.state.destModule.apiResults},trips:function(){var t=this.$store.state.tripModule.userTrips;return t},currentDest:function(){return this.$store.state.destModule.activeDest}},mounted:function(){this.$store.state.userModule.user._id||X.push({name:"User"}),this.$store.dispatch("getUsersTrips"),this.masonry(!1)},methods:{getResults:function(){this.$store.dispatch("findDestination",this.destination.title),this.title=""},addDestination:function(t){this.$store.dispatch("selectActiveTrip",this.trip),this.$store.dispatch("addDestination",t)},selectActiveDest:function(t){this.$store.dispatch("selectActiveDest",t),this.$store.dispatch("getUsersTrips"),this.$store.dispatch("getDestTodos",t._id),this.$router.push("Destination")},selectDest:function(t){this.$store.dispatch("selectActiveDest",t)},masonry:function(t){if(t)this.msnry.reloadItems(),this.msnry.layout();else{var e=document.querySelector(".grid");this.msnry=new Masonry(e,{itemSelector:".grid-item",columnWidth:".home",percentPosition:!0,horizontalOrder:!0}),this.msnry=new Masonry(".grid",{})}}}},T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("div",{staticClass:"row d-flex justify-content-center"},[s("div",{staticClass:"topbar col-6 d-flex flex-row justify-content-around"},[s("div",{staticClass:"topbar-items"},[s("create-trip")],1),t._v(" "),s("div",{staticClass:"topbar-items"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.getResults(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.destination.title,expression:"destination.title"}],attrs:{type:"text",name:"destination",id:"destination",placeholder:" Where To?"},domProps:{value:t.destination.title},on:{input:function(e){e.target.composing||t.$set(t.destination,"title",e.target.value)}}}),t._v(" "),s("button",{staticClass:"btn btn-primary btn-success btn-sm mt-2 mb-2",attrs:{type:"submit"}},[t._v("Search")])])])])]),t._v(" "),s("div",{staticClass:"grid mt-2"},[t._l(t.userResults,function(e){return s("div",{key:e._id,staticClass:"grid-item"},[s("div",{staticClass:"card result"},[s("img",{attrs:{src:e.photo}}),t._v(" "),s("div",{staticClass:"test"},[s("a",{on:{click:function(s){t.selectActiveDest(e)}}},[s("strong",[t._v(t._s(e.title))])])]),t._v(" "),s("p",[t._v("Author: "+t._s(e.author))]),t._v(" "),s("button",{staticClass:"btn btn-success card-btn",on:{click:function(s){t.selectActiveDest(e)}}},[t._v("View")])])])}),t._v(" "),t._l(t.apiResults,function(e){return s("div",{key:e._id,staticClass:"grid-item"},[s("div",{staticClass:"card result"},[s("img",{attrs:{id:"img",src:e.photo}}),t._v(" "),s("strong",[t._v(t._s(e.name))]),t._v(" "),s("p",[t._v("Provided by Google")]),t._v(" "),s("button",{staticClass:"btn btn-success card-btn",attrs:{type:"button","data-toggle":"modal","data-target":"#destModal"},on:{click:function(s){t.selectDest(e)}}},[t._v("Add To Trip")]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"destModal",tabindex:"-1",role:"dialog","aria-labelledby":"destModalTitle","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"destModalTitle"}},[t._v(t._s(t.currentDest.name))]),t._v(" "),t._m(0,!0)]),t._v(" "),s("div",{staticClass:"modal-body"},[s("h4",[t._v("Select a Trip!")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.trip,expression:"trip"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.trip=e.target.multiple?s:s[0]}}},[s("option",{attrs:{disabled:"",value:""}},[t._v("Add Destination to Trip: ")]),t._v(" "),t._l(t.trips,function(e){return s("option",{key:e._id,domProps:{value:e}},[t._v(t._s(e.title))])})],2)]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),t.trip._id?s("button",{staticClass:"btn btn-primary btn-primary",attrs:{"data-dismiss":"modal"},on:{click:function(e){t.addDestination(t.currentDest)}}},[t._v("Submit")]):t._e()])])])])]),t._v(" "),0==t.trips.length?s("mytrip"):t._e()],1)})],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}]};var w=s("VU/8")(y,T,!1,function(t){s("/E0N")},"data-v-e1fe77bc",null).exports,$={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user jumbotron jumbotron-fluid bgImg"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-6 card"},[t.showLogin?s("div",{staticClass:"login"},[s("h1",[t._v("Login")]),t._v(" "),s("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"input",attrs:{type:"email",name:"email",placeholder:" e-mail",id:"email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"input",attrs:{type:"password",name:"password",placeholder:" password",id:"name"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t._v(" "),s("button",{staticClass:"btn btn-primary btn-success",attrs:{type:"submit"}},[t._v("Login")])]),t._v(" "),s("br"),t._v(" "),s("div",[s("p",[t._v("Click to start "),s("button",{staticClass:"btn btn-success",on:{click:t.demoLogin}},[t._v("Demo")])])]),t._v(" "),s("br"),t._v(" "),s("p",{staticClass:"user"},[t._v("Not a user?\n        "),s("em",{on:{click:t.toggle}},[s("button",{staticClass:"btn btn-danger",attrs:{type:"button"}},[t._v("Register")])])])]):t._e(),t._v(" "),t.showLogin?t._e():s("div",{staticClass:"register"},[s("h1",[t._v("Register")]),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"input",attrs:{type:"email",name:"email",placeholder:" e-mail",id:"email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.displayName,expression:"user.displayName"}],staticClass:"input",attrs:{type:"text",name:"name",placeholder:"name",id:"name"},domProps:{value:t.user.displayName},on:{input:function(e){e.target.composing||t.$set(t.user,"displayName",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"input",attrs:{type:"password",name:"password",placeholder:"password",id:"name"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t._v(" "),s("button",{staticClass:"btn btn-primary btn-danger",attrs:{type:"submit"}},[t._v("Register")])]),t._v(" "),s("br"),t._v(" "),s("div"),t._v(" "),s("br"),t._v(" "),s("p",[t._v("Already a user?\n        "),s("em",{on:{click:t.toggle}},[s("button",{staticClass:"btn btn-primary btn-success",attrs:{type:"submit"}},[t._v("Login")])])])])])])])},staticRenderFns:[]};var D=s("VU/8")({name:"Login",mounted:function(){this.$store.dispatch("authenticate")},data:function(){return{user:{email:"",displayName:"",password:""},demo:{email:"demo@demo.com",displayName:"Demo",password:"12345"},showLogin:!0}},computed:{currentUser:function(){return this.$store.state.userModule.user}},methods:{demoLogin:function(){this.$store.dispatch("login",this.demo)},login:function(){this.$store.dispatch("login",this.user)},register:function(){this.$store.dispatch("register",this.user)},toggle:function(){this.showLogin=!this.showLogin}}},$,!1,function(t){s("TSBa")},"data-v-2622d62e",null).exports,x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.apiResults?s("div",{staticClass:"search-destinations"},t._l(t.apiResults,function(e){return s("div",{key:e._id,staticClass:"result text-center"},[s("a",{on:{click:function(s){t.addDestination(e)}}},[s("p",{staticClass:"result-name"},[s("strong",[t._v(t._s(e.name))]),t._v(" - "+t._s(e.formatted_address))])])])})):t._e()},staticRenderFns:[]};var k={name:"addDestination",mounted:function(){this.$store.dispatch("getTripDestinations",this.$route.params.id)},components:{searchResults:s("VU/8")({name:"searchResults",data:function(){return{}},mounted:function(){},computed:{apiResults:function(){return this.$store.state.destModule.apiResults}},methods:{addDestination:function(t){this.$store.dispatch("addDestination",t),this.$store.dispatch("clearResults")}}},x,!1,function(t){s("3Shs")},null,null).exports},data:function(){return{toggleForm:!1,query:"",placeholder:" Where to?"}},computed:{currentTrip:function(){return this.$store.state.tripModule.activeTrip}},methods:{toggleCreate:function(){this.toggleForm=!this.toggleForm},getDestination:function(){var t=this.query;this.$store.dispatch("findDestination",t),this.query="",this.placeholder=t}}},M={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"add-destination tracker"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("h1",[t._v(" "+t._s(t.currentTrip.title))])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col mb-2 search-box"},[s("div",{staticClass:"d-flex flex-row justify-content-center"},[s("div",[s("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.getDestination(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"input",attrs:{type:"text",name:"title",placeholder:t.placeholder,id:"email"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"results"},[s("search-results")],1)]),t._v(" "),s("button",{staticClass:"btn btn-primary btn-success submit-btn",on:{click:t.getDestination}},[t._v("Search")])])])])])},staticRenderFns:[]};var R=s("VU/8")(k,M,!1,function(t){s("AC96")},"data-v-74d297ba",null).exports,A={name:"edit-destination",props:{destination:{type:Object,required:!0}},mounted:function(){this.edit={title:this.destination.title,photo:this.destination.photo,place_id:this.destination.place_id,published:this.destination.published,tripId:this.destination.tripId,userId:this.destination.userId,lat:this.destination.lat,long:this.destination.long,_id:this.destination._id}},data:function(){return{editBool:!1,edit:{title:"",photo:"",place_id:"",published:"",tripId:"",userId:"",lat:"",long:"",_id:""}}},computed:{destinations:function(){return this.$store.state.destModule.destinations}},methods:{selectActiveDest:function(t){this.$store.dispatch("selectActiveDest",t)},deleteDest:function(t){this.$store.dispatch("deleteDest",t)},publishDest:function(t){t.published=!t.published,this.$store.dispatch("editDest",t)},toggleEdit:function(){this.editBool=!this.editBool},editDestination:function(t){var e={title:t.title,photo:t.photo,place_id:t.place_id,published:t.published,tripId:t.tripId,userId:t.userId,lat:t.lat,long:t.long,_id:t._id};this.$store.dispatch("editDest",e),this.editBool=!this.editBool},updateDest:function(){this.$emit("setDest",this.edit)}}},U={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"edit-destination"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"card"},[s("img",{staticClass:"card-img-top",attrs:{src:t.destination.photo,alt:"Card image cap"}}),t._v(" "),s("router-link",{key:t.destination._id,attrs:{to:{name:"myDestination",params:{id:t.destination._id}}},nativeOn:{click:function(e){t.selectActiveDest(t.destination)}}},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v(t._s(t.destination.title))]),t._v(" "),s("p",[t._v("Author: "+t._s(t.destination.author))])])]),t._v(" "),s("div",{staticClass:"card-text"},[s("button",{staticClass:"btn btn-success",on:{click:t.toggleEdit}},[t._v("Edit")]),t._v(" "),t.editBool?s("form",{staticClass:"form bgform d-flex flex-column",staticStyle:{width:"80%",margin:"auto"},on:{keyup:t.updateDest,submit:function(e){e.preventDefault(),t.editDestination(t.edit)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.edit.title,expression:"edit.title"}],staticClass:"input",attrs:{type:"text",name:"title",placeholder:" Title",id:"title"},domProps:{value:t.edit.title},on:{input:function(e){e.target.composing||t.$set(t.edit,"title",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.edit.photo,expression:"edit.photo"}],staticClass:"input mt-2",attrs:{type:"text",name:"description",placeholder:" Description",id:"name"},domProps:{value:t.edit.photo},on:{input:function(e){e.target.composing||t.$set(t.edit,"photo",e.target.value)}}}),t._v(" "),s("button",{staticClass:"btn btn-primary btn-success mb-2 mt-2",attrs:{type:"submit"}},[t._v("Submit")])]):t._e(),t._v(" "),s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){t.deleteDest(t.destination)}}},[t._v("Cancel")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.destination.published,expression:"destination.published"}],attrs:{type:"checkbox",id:"published"},domProps:{checked:Array.isArray(t.destination.published)?t._i(t.destination.published,null)>-1:t.destination.published},on:{click:function(e){t.publishDest(t.destination)},change:function(e){var s=t.destination.published,i=e.target,o=!!i.checked;if(Array.isArray(s)){var a=t._i(s,null);i.checked?a<0&&t.$set(t.destination,"published",s.concat([null])):a>-1&&t.$set(t.destination,"published",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(t.destination,"published",o)}}}),t._v(" "),s("label",{attrs:{for:"published"}},[t._v("Publish")])])],1)])])])},staticRenderFns:[]};var N=s("VU/8")(A,U,!1,function(t){s("HZwz")},"data-v-cba1179c",null).exports,I={name:"googleMap",props:{coords:{type:Array,required:!0},name:{type:String,required:!0}},mounted:function(){},updated:function(){this.buildMap()},data:function(){return{mapName:this.name+"-map",coordinates:this.coords,markers:[],bounds:null,map:null}},computed:{},methods:{buildMap:function(){var t=this;if(this.coords.length>0){this.bounds=new google.maps.LatLngBounds;var e=document.getElementById(this.mapName);this.map=new google.maps.Map(e),this.coords.forEach(function(e){var s=new google.maps.LatLng(e.lat,e.long),i=new google.maps.Marker({position:s,map:t.map,animation:google.maps.Animation.DROP,destination:e});"destination"==t.name&&google.maps.event.addListener(i,"click",function(e){t.selectActiveDest(i.destination)}),t.markers.push(i),t.map.fitBounds(t.bounds.extend(s))}),this.map.setCenter(this.bounds.getCenter()),1==this.coords.length&&"destination"==this.name&&this.map.setZoom(10)}},selectActiveDest:function(t){this.$store.dispatch("selectActiveDest",t),this.$router.push({name:"myDestination",params:{id:t._id}})}}},P={render:function(){var t=this.$createElement,e=this._self._c||t;return this.coords.length>0?e("div",{staticClass:"map"},[e("div",{staticClass:"google-map",attrs:{id:this.mapName}})]):this._e()},staticRenderFns:[]};var S=s("VU/8")(I,P,!1,function(t){s("zJ0z")},null,null).exports,E={name:"Trip",mounted:function(){this.$store.dispatch("clearResults"),this.masonry(!1)},components:{addDestination:R,editDestination:N,googleMap:S},data:function(){return{}},computed:{destinations:function(){return this.$store.state.destModule.destinations}},watch:{destinations:function(){var t=this;this.$nextTick(function(){setTimeout(function(){t.masonry(!0)},500),setTimeout(function(){t.masonry(!0)},3e3)})}},methods:{selectActiveDest:function(t){this.$store.dispatch("selectActiveDest",t)},deleteDest:function(t){this.$store.dispatch("deleteDest",t)},publishDest:function(t){t.published=!t.published,this.$store.dispatch("editDest",t)},setDest:function(t){var e=this.destinations.findIndex(function(e){return e._id==t._id});this.destinations.splice(e,1,t)},masonry:function(t){if(t)this.msnry.reloadItems(),this.msnry.layout();else{var e=document.querySelector(".grid");this.msnry=new Masonry(e,{itemSelector:".grid-item",columnWidth:".home",percentPosition:!0,horizontalOrder:!0}),this.msnry=new Masonry(".grid",{})}}}},F={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"trip"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col add-destination mb-2"},[s("add-destination")],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 text-center mb-5"},[s("google-map",{attrs:{name:"destination",coords:t.destinations}})],1)]),t._v(" "),s("div",{staticClass:"row grid mt-2"},t._l(t.destinations,function(e){return s("div",{key:e._id,staticClass:"col-3 grid-item"},[s("div",{staticClass:"result"},[s("edit-destination",{attrs:{destination:e},on:{setDest:t.setDest}})],1)])}))])])},staticRenderFns:[]};var L=s("VU/8")(E,F,!1,function(t){s("6vu/")},"data-v-633fbe86",null).exports,j={name:"edit-trip",props:{trip:{type:Object,required:!0}},mounted:function(){this.edit={title:this.trip.title,description:this.trip.description,author:this.trip.author,userId:this.trip.userId,_id:this.trip._id}},data:function(){return{editBool:!1,edit:{title:"",description:"",author:"",userId:""}}},computed:{},methods:{selectActiveTrip:function(t){this.$store.dispatch("selectActiveTrip",t)},deleteTrip:function(t){this.$store.dispatch("deleteTrip",t)},editTrip:function(t){var e={title:t.title,description:t.description,author:t.author,userId:t.userId,_id:t._id};this.$store.dispatch("editTrip",e),this.editBool=!this.editBool},toggleEdit:function(){this.editBool=!this.editBool},updateTrip:function(){this.$emit("setTrip",this.edit)},publishTrip:function(t){this.$store.dispatch("publishTrip",t)}}},V={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"edit-trip mb-2"},[s("div",{staticClass:"card-body"},[s("router-link",{attrs:{to:{name:"Trip",params:{id:t.trip._id}}},nativeOn:{click:function(e){t.selectActiveTrip(t.trip)}}},[s("h2",{staticClass:"card-title"},[t._v(t._s(t.trip.title))]),t._v(" "),s("p",{staticClass:"card-text"},[t._v(t._s(t.trip.description))])]),t._v(" "),s("div",{staticClass:"mb-2"},[s("button",{staticClass:"btn btn-success",on:{click:function(e){t.toggleEdit()}}},[t._v("Edit")]),t._v(" "),t.editBool?s("form",{staticClass:"form bgform",on:{keyup:t.updateTrip,submit:function(e){e.preventDefault(),t.editTrip(t.edit)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.edit.title,expression:"edit.title"}],staticClass:"input",attrs:{type:"text",name:"title",placeholder:" Title",id:"title"},domProps:{value:t.edit.title},on:{input:function(e){e.target.composing||t.$set(t.edit,"title",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.edit.description,expression:"edit.description"}],staticClass:"input mt-2",attrs:{type:"text",name:"description",placeholder:" Description",id:"name"},domProps:{value:t.edit.description},on:{input:function(e){e.target.composing||t.$set(t.edit,"description",e.target.value)}}}),t._v(" "),s("button",{staticClass:"btn btn-primary btn-success mb-2 mt-2",attrs:{type:"submit"}},[t._v("Submit")])]):t._e(),t._v(" "),s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){t.deleteTrip(t.trip)}}},[t._v("Cancel")]),t._v(" "),s("label",{staticStyle:{color:"black"},attrs:{for:"published"}},[t._v("Publish")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.published,expression:"trip.published"}],attrs:{type:"checkbox",id:"published"},domProps:{checked:Array.isArray(t.trip.published)?t._i(t.trip.published,null)>-1:t.trip.published},on:{click:function(e){t.publishTrip(t.trip)},change:function(e){var s=t.trip.published,i=e.target,o=!!i.checked;if(Array.isArray(s)){var a=t._i(s,null);i.checked?a<0&&t.$set(t.trip,"published",s.concat([null])):a>-1&&t.$set(t.trip,"published",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(t.trip,"published",o)}}})])],1)])},staticRenderFns:[]};var q={name:"trips",components:{editTrip:s("VU/8")(j,V,!1,function(t){s("/fvY")},null,null).exports},data:function(){return{}},mounted:function(){},computed:{trips:function(){return this.$store.state.tripModule.userTrips}},methods:{setTrip:function(t){var e=this.trips.findIndex(function(e){return e._id==t._id});this.trips.splice(e,1,t)}}},B={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"trips mt-2"},[s("div",{staticClass:"row justify-content-center"},t._l(t.trips,function(e){return s("div",{staticClass:"col-md-3 ml-2 mt-3 card",staticStyle:{width:"18rem"}},[s("editTrip",{attrs:{trip:e},on:{setTrip:t.setTrip}})],1)}))])},staticRenderFns:[]};var O={name:"myTrips",components:{trips:s("VU/8")(q,B,!1,function(t){s("8fRE")},"data-v-3ee43378",null).exports,createTrip:C},mounted:function(){this.$store.state.userModule.user._id||this.$router.push({name:"User"}),this.$store.dispatch("getUsersTrips")},data:function(){return{}},computed:{trips:function(){this.$store.state.tripModule.trips}},methods:{}},G={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"my-trips jumbotron"},[e("create-trip"),this._v(" "),e("trips")],1)},staticRenderFns:[]};var z=s("VU/8")(O,G,!1,function(t){s("oWj0")},"data-v-65d9fc1a",null).exports,H={name:"Todos",components:{Comment:l,googleMap:S,carousel:m},data:function(){return{isActive:!0,toggle:!1,img:"",newTodo:{}}},mounted:function(){this.$store.state.userModule.user._id||this.$router.push({name:"User"}),this.$store.dispatch("getDestTodos",this.$store.state.destModule.activeDest._id)},computed:{todos:function(){return this.$store.state.todoModule.userTodos},currentTodo:function(){return this.$store.state.todoModule.activeTodo}},methods:{deleteTodo:function(t){this.$store.dispatch("deleteTodo",t)},editTodo:function(){this.img.length>0&&this.newTodo.gallery.unshift(this.img),this.$store.dispatch("editTodo",this.newTodo)},toggleEdit:function(){this.toggle=!this.toggle},selectTodo:function(t){this.$store.dispatch("selectTodo",t),this.newTodo=t}}},W={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"current-todos"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("google-map",{attrs:{name:"todos",coords:t.todos}})],1)]),t._v(" "),s("div",{staticClass:"row mt-3 d-flex justify-content-center"},t._l(t.todos,function(e,i){return s("div",{key:e._id,staticClass:"col-3 todo-card card"},[e.gallery.length>0?s("div",[s("carousel",{attrs:{gallery:e.gallery}})],1):t._e(),t._v(" "),s("h4",[t._v(t._s(e.title))]),t._v(" "),s("h5",[t._v(t._s(e.description))]),t._v(" "),s("p",[t._v("Categories: ")]),t._v(" "),s("div",{staticClass:"d-flex flex-row flex-wrap"},t._l(e.categories,function(i,o){return s("p",{staticClass:"ml-2"},[t._v(t._s(i)),o<e.categories.length-1?s("span",[t._v(",")]):t._e()])})),t._v(" "),s("p",[t._v("Author: "+t._s(e.author))]),t._v(" "),s("div",{staticClass:"card-btn d-flex flex-row"},[s("button",{staticClass:"btn btn-success mr-1",attrs:{type:"button","data-toggle":"modal","data-target":"#editTodoModal"},on:{click:function(s){t.selectTodo(e)}}},[t._v("Update")]),t._v(" "),s("button",{staticClass:"btn btn-danger ml-1",on:{click:function(s){t.deleteTodo(e)}}},[t._v("Remove")])]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"editTodoModal",tabindex:"-1",role:"dialog","aria-labelledby":"editTodoModalTitle","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0,!0),t._v(" "),s("div",{staticClass:"modal-body"},[s("form",{staticClass:"form d-flex flex-column",on:{submit:function(e){e.preventDefault(),t.editTodo()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newTodo.title,expression:"newTodo.title"}],staticClass:"input",attrs:{type:"text",name:"comment",placeholder:" comment",id:"comment"},domProps:{value:t.newTodo.title},on:{input:function(e){e.target.composing||t.$set(t.newTodo,"title",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newTodo.description,expression:"newTodo.description"}],staticClass:"input",attrs:{type:"text",name:"description",placeholder:"description",id:"descroption"},domProps:{value:t.newTodo.description},on:{input:function(e){e.target.composing||t.$set(t.newTodo,"description",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.img,expression:"img"}],staticClass:"input",attrs:{type:"url",name:"image",placeholder:" image",id:"image"},domProps:{value:t.img},on:{input:function(e){e.target.composing||(t.img=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),s("button",{staticClass:"btn btn-primary btn-primary",attrs:{"data-dismiss":"modal"},on:{click:t.editTodo}},[t._v("Submit")])])])])]),t._v(" "),s("comment",{attrs:{todo:e}})],1)}))])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"editTodoModalTitle"}},[this._v("Update Todo!")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]};var K=s("VU/8")(H,W,!1,function(t){s("/jr8")},"data-v-2783028c",null).exports,Y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"add-todo todo"},[s("div",{staticClass:"find d-flex flex-row",attrs:{id:"category-drop"}},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"form-control",attrs:{name:"Category"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.category=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"Search by Category",hidden:""}},[t._v("Search by Category")]),t._v(" "),t._l(t.categories,function(e){return s("option",{domProps:{value:e}},[t._v(t._s(e))])})],2),t._v(" "),s("button",{staticClass:"btn btn-success",on:{click:t.searchTodos}},[t._v("Search")])]),t._v(" "),t.usersTodos.length+t.googleTodos.length>0?s("div",{staticClass:"results"},[s("div",{staticClass:"userResults"},t._l(t.usersTodos,function(e){return s("a",{on:{click:function(s){t.addTodo(e)}}},[s("p",{staticClass:"todo-result"},[t._v(t._s(e.title)+" - "+t._s(e.author))])])})),t._v(" "),s("div",{staticClass:"googleResults"},t._l(t.googleTodos,function(e){return s("a",{on:{click:function(s){t.addGoogleTodo(e)}}},[s("p",{staticClass:"todo-result"},[t._v(t._s(e.name)+" - Google")])])}))]):t._e(),t._v(" "),t.usersTodos.length+t.googleTodos.length>0?s("div",{staticClass:"close-results"},[s("p",{staticClass:"close",on:{click:t.closeResults}},[t._v("x")])]):t._e()])},staticRenderFns:[]};var Z={mounted:function(){this.$store.dispatch("getDestTodos",this.$route.params.id),this.$store.dispatch("clearResults"),navigator.geolocation&&navigator.geolocation.getCurrentPosition(this.getPos)},name:"userDestination",components:{todos:K,addTodo:s("VU/8")({name:"addTodo",data:function(){return{category:"Search by Category"}},mounted:function(){},computed:{categories:function(){return this.$store.state.categories},usersTodos:function(){return this.$store.state.todoModule.todos},googleTodos:function(){return this.$store.state.todoModule.googleTodos}},methods:{searchTodos:function(){this.$store.dispatch("findTodos",this.category),this.$store.dispatch("clearResults")},addTodo:function(t){this.$store.dispatch("addTodo",t),this.$store.dispatch("clearResults")},addGoogleTodo:function(t){this.$store.dispatch("addGoogleTodo",t),this.$store.dispatch("clearResults")},closeResults:function(){this.$store.dispatch("clearResults")}}},Y,!1,function(t){s("TP9P")},"data-v-4cec44b6",null).exports,carousel:m},data:function(){return{displayAdd:!1,displayCreate:!1,category:"",todo:{title:"",description:"",img:"",gallery:[],categories:[]},lat:0,long:0}},computed:{categories:function(){return this.$store.state.categories},currentDest:function(){return this.$store.state.destModule.activeDest}},methods:{toggleCreate:function(){this.displayCreate=!this.displayCreate,this.displayAdd=!1},toggleAdd:function(){this.displayAdd=!this.displayAdd,this.displayCreate=!1},addTodo:function(){var t={title:this.todo.title,description:this.todo.description,gallery:this.todo.gallery,categories:this.todo.categories,lat:this.lat,long:this.long};this.$store.dispatch("addTodo",t),this.todo={title:"",description:"",img:"",gallery:[],categories:[]}},addImg:function(){this.todo.img.length>0&&this.todo.gallery.unshift(this.todo.img),this.todo.img=""},getPos:function(t){this.lat=t.coords.latitude,this.long=t.coords.longitude},addCatergory:function(){this.category&&!this.todo.categories.includes(this.category)&&this.todo.categories.push(this.category)},removeCategory:function(t){this.todo.categories.splice(t,1)}}},J={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-destination"},[s("div",{staticClass:"row d-flex justify-content-center"},[s("div",{staticClass:"col-6 top-bar"},[s("h3",[t._v(t._s(t.currentDest.title))]),t._v(" "),s("p",[t._v("Author: "+t._s(t.currentDest.author))]),t._v(" "),s("div",{staticClass:"d-flex flex-row justify-content-center"},[s("button",{staticClass:"btn btn-primary create-todo",attrs:{type:"button","data-toggle":"modal","data-target":"#todoModal"}},[t._v("Create New Todo")]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"todoModal",tabindex:"-1",role:"dialog","aria-labelledby":"todoModalTitle","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),s("div",{staticClass:"modal-body"},[s("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.addTodo(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.title,expression:"todo.title"}],staticClass:"input",attrs:{type:"text",name:"title",placeholder:" Title",id:"title"},domProps:{value:t.todo.title},on:{input:function(e){e.target.composing||t.$set(t.todo,"title",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.description,expression:"todo.description"}],staticClass:"input",attrs:{type:"text",name:"description",placeholder:" Description",id:"description"},domProps:{value:t.todo.description},on:{input:function(e){e.target.composing||t.$set(t.todo,"description",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"d-flex flex-row mt-3"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"form-control",attrs:{name:"Category"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.category=e.target.multiple?s:s[0]}}},[s("option",{attrs:{selected:"",disabled:""}},[t._v("Select a Category")]),t._v(" "),t._l(t.categories,function(e){return s("option",{domProps:{value:e}},[t._v(t._s(e))])})],2),t._v(" "),s("button",{staticClass:"btn btn-success",on:{click:t.addCatergory}},[t._v("Add")])]),t._v(" "),s("div",{staticClass:"d-flex align-items-row mt-3"},t._l(t.todo.categories,function(e,i){return s("p",{staticClass:"ml-3",staticStyle:{color:"blue"}},[t._v(t._s(e)+"\n                    "),s("a",{staticStyle:{color:"red"},on:{click:function(e){t.removeCategory(i)}}},[t._v("x")])])})),t._v(" "),s("div",{staticClass:"row"},[t.todo.gallery.length>0?s("carousel",{staticClass:"col",attrs:{gallery:t.todo.gallery}}):t._e()],1),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.addImg(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.img,expression:"todo.img"}],attrs:{type:"url",name:"img",placeholder:"Image Url",id:"img"},domProps:{value:t.todo.img},on:{input:function(e){e.target.composing||t.$set(t.todo,"img",e.target.value)}}}),t._v(" "),t.todo.img.length>0?s("button",{staticClass:"btn btn-primary btn-success",attrs:{type:"submit"}},[t._v("Add")]):t._e()])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),t.todo.title.length>0?s("button",{staticClass:"btn btn-primary btn-primary",attrs:{"data-dismiss":"modal"},on:{click:t.addTodo}},[t._v("Submit")]):t._e()])])])]),t._v(" "),s("add-todo",{staticClass:"add-todo"})],1)])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("todos")],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"todoModalTitle"}},[this._v("Create a Todo!")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]};var Q=s("VU/8")(Z,J,!1,function(t){s("6hne")},"data-v-7680f5c3",null).exports;i.a.use(r.a);var X=new r.a({routes:[{path:"/",name:"Home",component:w},{path:"/login",name:"User",component:D},{path:"/destination",name:"Destination",component:g},{path:"/trip/:id",name:"Trip",component:L},{path:"/mytrips",name:"myTrips",component:z},{path:"/mydestination/:id",name:"myDestination",component:Q},{path:"/todos",name:"ToDos",component:K}]}),tt=s("NYxO"),et=s("mtWM"),st=s.n(et),it=!window.location.host.includes("localhost")?"https://i-be-trippin.herokuapp.com":"//localhost:3000",ot=st.a.create({baseURL:it,timeout:3e3,withCredentials:!0}),at={state:{user:{}},mutations:{setUser:function(t,e){t.user=e}},actions:{login:function(t,e){t.dispatch;var s=t.commit;ot.post("/login",e).then(function(t){X.push("/"),s("setUser",t)}).catch(function(t){console.log(t.data)})},register:function(t,e){t.dispatch;var s=t.commit;ot.post("/register",e).then(function(t){X.push("/"),s("setUser",t)}).catch(function(t){console.log(t.data)})},authenticate:function(t){var e=t.commit,s=t.dispatch;ot.get("/authenticate").then(function(t){"demo@demo.com"==t.data.data.email&&s("endDemo"),t.data.data._id&&X.push({name:"User"}),e("setUser",t.data.data),X.push("/")}).catch(function(t){X.push({name:"User"}),console.log(t)})},signOut:function(t){var e=t.commit;t.dispatch,t.state;ot.delete("/logout").then(function(t){e("setUser",{}),X.push({name:"User"})}).catch(function(t){console.log(t.data)})},endDemo:function(t){t.dispatch,t.commit;var e=t.state;"5b3fa93e552b6145d8d3be17"==e.user._id&&ot.delete("/end-demo/"+e.user._id).then(function(t){console.log(t)}).catch(function(t){console.log(t)})}}},nt=!window.location.host.includes("localhost")?"https://i-be-trippin.herokuapp.com":"//localhost:3000",rt=st.a.create({baseURL:nt,timeout:3e3,withCredentials:!0}),dt={state:{userTrips:[],activeTrip:{}},mutations:{addTrip:function(t,e){t.userTrips.unshift(e)},setUserTrips:function(t,e){t.userTrips=e},setActiveTrip:function(t,e){t.activeTrip=e},setEditTrip:function(t,e){var s=t.userTrips.findIndex(function(t){return t._id==e._id});t.userTrips.splice(s,1,e)}},actions:{createTrip:function(t,e){t.dispatch;var s=t.commit,i=t.rootState;e.author=i.userModule.user.displayName,rt.post("/api/trips",e).then(function(t){s("addTrip",t.data)}).catch(function(t){console.log(t)})},deleteTrip:function(t,e){t.commit;var s=t.dispatch;rt.delete("/api/trips/"+e._id).then(function(t){s("getUsersTrips")}).catch(function(t){console.log(t)})},getUsersTrips:function(t){t.dispatch;var e=t.commit,s=t.rootState;rt.get("/api/trips/user/"+s.userModule.user._id).then(function(t){e("setUserTrips",t.data)}).catch(function(t){console.log(t)})},selectActiveTrip:function(t,e){t.dispatch;(0,t.commit)("setActiveTrip",e)},editTrip:function(t,e){var s=t.commit;t.dispatch;rt.put("/api/trips/"+e._id,e).then(function(t){s("setEditTrip",t.data.trip)})},publishTrip:function(t,e){t.dispatch;var s=t.commit,i={published:!e.published};rt.put("/api/trip/publish/"+e._id,i).then(function(t){s("setEditTrip",e)}).catch(function(t){console.log(t)})}}},ct=!window.location.host.includes("localhost")?"https://i-be-trippin.herokuapp.com":"//localhost:3000",lt=st.a.create({baseURL:ct,timeout:3e3,withCredentials:!0}),ut={state:{apiResults:[],userResults:[],destinations:[],activeDest:{}},mutations:{setApiResults:function(t,e){t.apiResults=e},setUserResults:function(t,e){t.userResults=e},setDestinations:function(t,e){t.destinations=e},setActiveDest:function(t,e){t.activeDest=e},setEditDestination:function(t,e){var s=t.destinations.findIndex(function(t){return t._id==e._id});t.destinations.splice(s,1,e)}},actions:{findDestination:function(t,e){var s=t.commit,i=t.dispatch;lt.get("/api/locations/"+e).then(function(t){console.log(t),s("setApiResults",t.data),i("getUserResults",t.data)}).catch(function(t){console.log(t)})},getUserResults:function(t,e){var s=t.commit;t.dispatch;console.log(e,"search");var i=e[0];lt.get("/api/destinations/"+i.place_id+"/place").then(function(t){console.log(t.data),s("setUserResults",t.data)}).catch(function(t){console.log(t)})},addDestination:function(t,e){var s=t.dispatch,i=(t.commit,t.rootState);if(e.geometry)var o={title:e.name,place_id:e.place_id,tripId:i.tripModule.activeTrip._id,long:e.geometry.location.lng,lat:e.geometry.location.lat,photo:e.photo,author:i.userModule.user.displayName};else o={title:e.title,place_id:e.place_id,tripId:i.tripModule.activeTrip._id,long:e.long,lat:e.lat,photo:e.photo,author:i.userModule.user.displayName};lt.post("/api/destinations",o).then(function(t){s("getTripDestinations",t.data.tripId)}).catch(function(t){console.log(t)})},deleteDest:function(t,e){t.commit;var s=t.dispatch;lt.delete("/api/destinations/"+e._id).then(function(t){console.log(t),s("getTripDestinations",e.tripId)}).catch(function(t){console.log(t)})},getTripDestinations:function(t,e){t.dispatch;var s=t.commit;lt.get("/api/trips/"+e+"/destinations").then(function(t){s("setDestinations",t.data)}).catch(function(t){console.log(t)})},editDest:function(t,e){var s=t.commit;t.dispatch;lt.put("/api/destinations/"+e._id,e).then(function(t){s("setEditDestination",t.data.destination)})},selectActiveDest:function(t,e){t.dispatch;var s=t.commit;console.log("works",e),s("setActiveDest",e)}}},pt=!window.location.host.includes("localhost")?"https://i-be-trippin.herokuapp.com":"//localhost:3000",mt=st.a.create({baseURL:pt,timeout:3e3,withCredentials:!0}),ht={state:{userTodos:[],googleTodos:[],todos:[],activeTodo:{}},mutations:{setUserTodos:function(t,e){t.userTodos=e},setGoogleTodos:function(t,e){t.googleTodos=e},setNewTodo:function(t,e){t.userTodos.unshift(e)},setComment:function(t,e){var s=t.userTodos.findIndex(function(t){return t._id==e._id});t.userTodos.splice(s,1),t.userTodos.unshift(e)},setRemoveTodo:function(t,e){var s=t.userTodos.findIndex(function(t){return t._id==e._id});t.userTodos.splice(s,1)},setTodos:function(t,e){t.todos=e},setTodo:function(t,e){t.activeTodo=e}},actions:{findTodos:function(t,e){var s=t.dispatch,i=t.commit,o=t.rootState;mt.get("/api/thingstodo/"+o.destModule.activeDest.place_id+"/"+e).then(function(t){i("setTodos",t.data),s("getGoogleTodos",e)}).catch(function(t){console.log(t)})},getGoogleTodos:function(t,e){t.dispatch;var s=t.commit,i=t.rootState,o={categories:e.replace(" ","_"),coords:i.destModule.activeDest.lat+","+i.destModule.activeDest.long};mt.post("/api/nearby/places",o).then(function(t){console.log(t.data.results),s("setGoogleTodos",t.data.results)}).catch(function(t){console.log(t)})},addTodo:function(t,e){t.dispatch;var s=t.commit,i=t.rootState;e.destinationId=i.destModule.activeDest._id,e.tripId=i.tripModule.activeTrip._id,e.author=i.userModule.user.displayName,e.place_id=i.destModule.activeDest.place_id,mt.post("/api/thingstodo",e).then(function(t){s("setNewTodo",t.data)}).catch(function(t){console.log(t)})},addGoogleTodo:function(t,e){t.dispatch;var s=t.commit,i=t.rootState,o={place_id:i.destModule.activeDest.place_id,title:e.name,categories:e.types,destinationId:i.destModule.activeDest._id,tripId:i.tripModule.activeTrip._id,lat:e.geometry.location.lat,long:e.geometry.location.lng};e.photos&&(o.gallery=e.photos.map(function(t){return"https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference="+t.photo_reference+"&key=AIzaSyDwdoKeSFC0xUN1VI8Ud78ZfpadFV7jUwU"})),o.author=i.userModule.user.displayName,mt.post("/api/thingstodo",o).then(function(t){s("setNewTodo",t.data)}).catch(function(t){console.log(t)})},getDestTodos:function(t,e){t.dispatch;var s=t.commit;mt.get("/api/destinations/"+e+"/thingstodo").then(function(t){s("setUserTodos",t.data)}).catch(function(t){console.log(t)})},deleteTodo:function(t,e){var s=t.commit,i=(t.dispatch,e);mt.delete("/api/thingstodo/"+e._id).then(function(t){s("setRemoveTodo",i)}).catch(function(t){console.log(t)})},editTodo:function(t,e){t.dispatch;var s=t.commit;mt.put("/api/thingstodo/"+e._id,e).then(function(t){s("setComment",t.data.thingtodo)}).catch(function(t){console.log(t)})},deleteComment:function(t,e){t.dispatch,t.commit;mt.put("/api/thingstodo/"+e._id,e).then(function(t){console.log(t.data.thingtodo)})},selectTodo:function(t,e){t.dispatch;(0,t.commit)("setTodo",e)}}},vt=!window.location.host.includes("localhost")?"https://i-be-trippin.herokuapp.com":"//localhost:3000";i.a.use(tt.a);st.a.create({baseURL:vt,timeout:3e3,withCredentials:!0});var gt=new tt.a.Store({modules:{userModule:at,tripModule:dt,destModule:ut,todoModule:ht},state:{categories:["airport","amusement park","aquarium","art gallery","bakery","bank","bar","beauty salon","book store","bowling alley","cafe","campground","car rental","casino","church","city hall","clothing store","convenience store","department store","electronics store","embassy","florist","food","gas station","furniture store","gym","hardware store","hindu temple","home goods store","jewelry store","library","liquor store","locksmith","lodging","meal delivery","mosque","movie rental","movie theater","museum","night club","park","pet store","pharmacy","point of interest","place of worship","restaurant","rv park","school","shoe store","shopping mall","spa","stadium","store","subway station","supermarket","synagogue","train station","travel agency","transit station","zoo"]},mutations:{},actions:{clearResults:function(t){t.dispatch;var e=t.commit;e("setApiResults",[]),e("setUserResults",[]),e("setGoogleTodos",[]),e("setTodos",[])}}});i.a.config.productionTip=!1,new i.a({el:"#app",router:X,store:gt,components:{App:n},template:"<App/>"})},TP9P:function(t,e){},TSBa:function(t,e){},lvYX:function(t,e,s){t.exports=s.p+"static/img/whitelogo.0556282.png"},"m+2K":function(t,e){},oWj0:function(t,e){},"p+ro":function(t,e){},sGu9:function(t,e){},zDTw:function(t,e){},zJ0z:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f6d4e231635e383bcb32.js.map